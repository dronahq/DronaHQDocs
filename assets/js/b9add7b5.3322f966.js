"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[47674],{30903:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>u,contentTitle:()=>p,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>d});i(67294);var n=i(3905),o=i(86291);function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})),t}function l(t,e){if(null==t)return{};var i,n,o=function(t,e){if(null==t)return{};var i,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}const s={sidebar_position:61,title:"Git Sync (Deprecated)"},p=void 0,c={unversionedId:"git-sync",id:"git-sync",title:"Git Sync (Deprecated)",description:"Git Sync feature with Single Git Repo for each App has been deprecated. It is recommended to use Git Sync Global feature.",source:"@site/docs/git-sync.md",sourceDirName:".",slug:"/git-sync",permalink:"/git-sync",draft:!1,tags:[],version:"current",lastUpdatedAt:1711950076,formattedLastUpdatedAt:"Apr 1, 2024",sidebarPosition:61,frontMatter:{sidebar_position:61,title:"Git Sync (Deprecated)"},sidebar:"docSidebar",previous:{title:"Git Sync Global",permalink:"/git-sync-global"},next:{title:"Global JS Objects",permalink:"/global-js-objects"}},u={},d=[{value:"Prerequisite",id:"prerequisite",level:2},{value:"Setting up Git Repository",id:"setting-up-git-repository",level:2},{value:"Adding SSH Keys to Git Service Accounts",id:"adding-ssh-keys-to-git-service-accounts",level:2},{value:"Adding SSH Key in GitHub",id:"adding-ssh-key-in-github",level:3},{value:"Adding SSH Key in GitLab",id:"adding-ssh-key-in-gitlab",level:3},{value:"Adding SSH Key in Bitbucket",id:"adding-ssh-key-in-bitbucket",level:3},{value:"Using Git in Action",id:"using-git-in-action",level:2},{value:"Push to the Repository",id:"push-to-the-repository",level:3},{value:"Git Tag - Create a Tag with the Commit",id:"git-tag---create-a-tag-with-the-commit",level:4},{value:"Pull from the Repository",id:"pull-from-the-repository",level:3},{value:"Git Tag - Pull from Tag",id:"git-tag---pull-from-tag",level:4}],h={toc:d},g="wrapper";function m(t){var{components:e}=t,i=l(t,["components"]);return(0,n.kt)(g,r(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){a(t,e,i[e])}))}return t}({},h,i),{components:e,mdxType:"MDXLayout"}),(0,n.kt)("admonition",{title:"DEPRECATED",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Git Sync feature with Single Git Repo for each App has been deprecated. It is recommended to use ",(0,n.kt)("a",{parentName:"p",href:"/git-sync-global"},"Git Sync Global")," feature.")),(0,n.kt)("p",null,"Git Sync enables you to effectively manage version control for your apps on DronaHQ by linking them to a Git hosting provider, like GitHub, GitLab, Bitbucket, and others. This integration simplifies the process of monitoring changes, facilitating rollbacks, and promoting collaborative work via git branches. Moreover, it allows for seamless connectivity to any app, whether it resides within the same account or another, enabling users to effortlessly transition between diverse environments."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"For Git sync to work the user needs Git hosting service which supports SSH protocols and currently it is available on self-hosted and not available on the cloud.")),(0,n.kt)("h2",{id:"prerequisite"},"Prerequisite"),(0,n.kt)("p",null,"To connect your apps on DronaHQ with Git, you must have a GitHub account, or any other version control accounts such as GitLab, Bitbucket, etc., and must have basic knowledge of git operations."),(0,n.kt)("h2",{id:"setting-up-git-repository"},"Setting up Git Repository"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Begin by creating a Git repository on your preferred Git service account.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the repository, locate and copy the ",(0,n.kt)("inlineCode",{parentName:"p"},"SSH URL")," provided. This URL is essential for connecting your app in the DronaHQ to the Git repository."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"GitHub SSH URL -")),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/github-url.png",alt:"GitHub SSH URL",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"GitHub SSH URL"))),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"GitLab SSH URL -")),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/gitlab-url.png",alt:"GitLab SSH URL",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"GitLab SSH URL"))),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Bitbucket SSH URL -")),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/bitbucket-url.png",alt:"Bitbucket SSH URL",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Bitbucket SSH URL")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Log in to your DronaHQ account and create an app or open an existing one.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Navigate to ",(0,n.kt)("inlineCode",{parentName:"p"},"Publish > Git Operation"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the ",(0,n.kt)("inlineCode",{parentName:"p"},"Configure")," window, paste the SSH URL and click ",(0,n.kt)("inlineCode",{parentName:"p"},"Generate key")," to create an ",(0,n.kt)("inlineCode",{parentName:"p"},"SSH key"),"."))),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/dronahq-url.png",alt:"Configuration window",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Configuration window"))),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"You can toggle-on the ",(0,n.kt)("inlineCode",{parentName:"p"},"Use Existing Key"),", this will allow you to select from existing keys. After toggling it on, you'll have a dropdown menu to select from existing keys stored on your system. This is particularly useful if you already have SSH keys generated and want to use one of them for this configuration. Select the appropriate key from the dropdown menu, and it will be used for authentication purposes when interacting with the specified SSH URL."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/use-existing.png",alt:"Use from existing SSH key.",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Use from existing SSH key."))),(0,n.kt)("p",{parentName:"admonition"},"Alternatively, toggle-on ",(0,n.kt)("inlineCode",{parentName:"p"},"Manually enter key")," to manually generate and use SSH key pairs."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/manualenter.png",alt:"Configuration window",mdxType:"Thumbnail"})),(0,n.kt)("p",{parentName:"admonition"},"To generate a key pair, run the command ",(0,n.kt)("inlineCode",{parentName:"p"},'ssh-keygen -t ed25519 -C "xyz@email.com"'),"."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/generate.png",alt:"Configuration window",mdxType:"Thumbnail"})),(0,n.kt)("p",{parentName:"admonition"},"Copy and enter the private key (mandatory) and public key (optional) in the shown fields.")),(0,n.kt)("ol",{start:6},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"The SSH key, which serves as an authentication mechanism, will be generated on the screen. Be sure to copy the SSH key.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Add the SSH key to your Git repository following the steps outlined in the ",(0,n.kt)("a",{parentName:"p",href:"./#adding-ssh-keys-to-git-service-accounts"},"Adding SSH Keys to Git Service Accounts")," guide. Afterward, return to the app in the DronaHQ and click ",(0,n.kt)("inlineCode",{parentName:"p"},"Test & Save Connection"),"."))),(0,n.kt)("p",null,"Your connection is now successfully established and ready to leverage other features."),(0,n.kt)("h2",{id:"adding-ssh-keys-to-git-service-accounts"},"Adding SSH Keys to Git Service Accounts"),(0,n.kt)("h3",{id:"adding-ssh-key-in-github"},"Adding SSH Key in GitHub"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"To add this SSH key to your GitHub account, navigate to ",(0,n.kt)("inlineCode",{parentName:"li"},"GitHub > Settings > SSH and GPG Keys > New SSH key"),".")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Provide the required details, including a Title, and paste the SSH key copied from the app in DronaHQ. Click ",(0,n.kt)("inlineCode",{parentName:"li"},"Add SSH key"),". Confirmation and a password prompt may follow.")),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The default branch for the connection is Master for GitHub.")),(0,n.kt)("h3",{id:"adding-ssh-key-in-gitlab"},"Adding SSH Key in GitLab"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"To add this SSH key to your GitLab account, go to ",(0,n.kt)("inlineCode",{parentName:"li"},"GitLab > User Settings > SSH Keys"),".")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Provide the necessary details, such as Title and Expiry date, and paste the SSH key copied from the app in DronaHQ. Click ",(0,n.kt)("inlineCode",{parentName:"li"},"Add key"),".")),(0,n.kt)("h3",{id:"adding-ssh-key-in-bitbucket"},"Adding SSH Key in Bitbucket"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"To add this SSH key to your Bitbucket account, visit ",(0,n.kt)("inlineCode",{parentName:"li"},"Bitbucket > Settings > SSH Keys (under security) > Add key"),". Note that you need to add the key at the account level, not the repository level.")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Provide the necessary details, including the Label, and paste the SSH key copied from the app in DronaHQ. Click ",(0,n.kt)("inlineCode",{parentName:"li"},"Add key"),".")),(0,n.kt)("h2",{id:"using-git-in-action"},"Using Git in Action"),(0,n.kt)("p",null,"Working with Git in the DronaHQ is similar to using Git itself. After connecting to the Git repository, you can commit changes and push them to the remote branch. You can also pull changes from the repository. Two additional tabs, Push and Pull, enable these operations."),(0,n.kt)("h3",{id:"push-to-the-repository"},"Push to the Repository"),(0,n.kt)("p",null,"In this window, users can make changes and commit to the branch of the repository. It will prompt for the branch to which you want to commit, along with a commit message."),(0,n.kt)("p",null,"Your app will be saved in the DHQ_Microapp.json file in your repository's root directory. If this file doesn't exist in the repository, it will be auto-created or overwritten with subsequent updates. Please refrain from making changes to this file."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/push-to-repo.png",alt:"Push to Repository",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Push to Repository"))),(0,n.kt)("p",null,"This feature is beneficial when you are further developing your app and want to keep it in sync with the connected repository."),(0,n.kt)("h4",{id:"git-tag---create-a-tag-with-the-commit"},"Git Tag - Create a Tag with the Commit"),(0,n.kt)("p",null,"Git Tagging is used to mark specific points in a repository's history as significant, such as release points (v1.0, v2.0, etc.). You can provide a tag for your commit along with tag descriptions for future reference."),(0,n.kt)("p",null,"Afterwards, click ",(0,n.kt)("inlineCode",{parentName:"p"},"Commit & Push"),"."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/git-tag.jpeg",alt:"Git Tag",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Git Tag"))),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"When you commit and push changes, they are published for app viewers. Keep in mind that changes in one branch do not affect changes in other branches. For example, if you are working on the main branch m1 and deploy changes from m1, it will not impact changes in the master branch.")),(0,n.kt)("h3",{id:"pull-from-the-repository"},"Pull from the Repository"),(0,n.kt)("p",null,"If your local branch is not synchronized with the remote branch of the Git repository, you can pull the latest changes by clicking the pull button at the bottom left corner. Select the branch whose app changes you want to overwrite in your current app."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"If your current app changes are not committed to Git before this step, they will be lost.")),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/pull-from-branch.png",alt:"Pull Tab",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Pull Tab"))),(0,n.kt)("h4",{id:"git-tag---pull-from-tag"},"Git Tag - Pull from Tag"),(0,n.kt)("p",null,"While pulling from a branch, you can also select a specific Git tag. This allows you to continue your project from the commit of the chosen tag without affecting your ongoing development. Simply click ",(0,n.kt)("inlineCode",{parentName:"p"},"Pull from Tag")," and then ",(0,n.kt)("inlineCode",{parentName:"p"},"checkout")," the relevant Git tag."),(0,n.kt)("figure",null,(0,n.kt)(o.Z,{src:"/img/git-sync/pull-tag.jpeg",alt:"Pull Tag",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Pull Tag"))),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"When pulling files from the repository, ensure that the same connectors and APIs with the same name are present in the account. This works similarly to the functionality when importing files; you can refer ",(0,n.kt)("a",{parentName:"p",href:"/building-apps-concepts/migrating-apps-between-accounts"},"here"))))}m.isMDXComponent=!0}}]);