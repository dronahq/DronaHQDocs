"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[87130],{95976:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>g,frontMatter:()=>s,metadata:()=>u,toc:()=>d});n(67294);var a=n(3905),o=n(86291);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const s={sidebar_position:61},c="Global JS Objects",u={unversionedId:"global-js-objects",id:"global-js-objects",title:"Global JS Objects",description:"DronaHQ provides a powerful extension of JS Objects. JS Objects provides users flexibility with writing functions, key-value pairs, stating variables, and more, which later can be accessed in the app easily and recurrently with the use of keywords. The most important part of JS Object Extension is that, once you save an object, it can be accessible from any app in the DronaHQ account, so we can say that it is globally provided.",source:"@site/docs/global-js-objects.md",sourceDirName:".",slug:"/global-js-objects",permalink:"/global-js-objects",draft:!1,tags:[],version:"current",lastUpdatedAt:1701973196,formattedLastUpdatedAt:"Dec 7, 2023",sidebarPosition:61,frontMatter:{sidebar_position:61},sidebar:"docSidebar",previous:{title:"Git Sync (Deprecated)",permalink:"/git-sync"},next:{title:"Multistep Authentication",permalink:"/multistep-authentication"}},p={},d=[{value:"Creating Global JS Objects",id:"creating-global-js-objects",level:2},{value:"Global JS object Structure",id:"global-js-object-structure",level:3},{value:"Test",id:"test",level:3},{value:"Output",id:"output",level:3},{value:"Using JS Object",id:"using-js-object",level:2},{value:"JavaScript Code:",id:"javascript-code",level:3},{value:"Script",id:"script",level:3},{value:"Output",id:"output-1",level:3},{value:"Using function inside app",id:"using-function-inside-app",level:3},{value:"App Preview:",id:"app-preview",level:4}],b={toc:d},m="wrapper";function g(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)(m,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},b,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"global-js-objects"},"Global JS Objects"),(0,a.kt)("p",null,"DronaHQ provides a powerful extension of JS Objects. ",(0,a.kt)("inlineCode",{parentName:"p"},"JS Objects")," provides users flexibility with writing functions, key-value pairs, stating variables, and more, which later can be accessed in the app easily and recurrently with the use of keywords. The most important part of JS Object Extension is that, once you save an object, it can be accessible from any app in the DronaHQ account, so we can say that it is globally provided."),(0,a.kt)("p",null,"We will know more about writing and using Global JS Objects in this article. You can export your JS functions and variables defined in Global JS Objects section that you can call globally in any app at any place."),(0,a.kt)("h2",{id:"creating-global-js-objects"},"Creating Global JS Objects"),(0,a.kt)("p",null,"Login to your DronaHQ account Go-to, ",(0,a.kt)("inlineCode",{parentName:"p"},"Profile -> Extensions -> JS Object Editor"),"."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/advanced-concepts/global-js-objects/global-js-objects-config-screen.jpg",alt:"Simple Database GUI",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Global JS Objects config screen."))),(0,a.kt)("p",null,"You will notice that a structure is maintained already in the JS Object with dummy data. Once JS Object defining is done, click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Save"),"."),(0,a.kt)("h3",{id:"global-js-object-structure"},"Global JS object Structure"),(0,a.kt)("p",null,"The JS Object of the DronaHQ follows this format, where user can write their own code, mention variables, write functions, and more, provided that their keywords should be made accessible under the ",(0,a.kt)("inlineCode",{parentName:"p"},"ExportModule")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'// Internal Variable  \nvar myInternalVariable = "This is an Internal Variable";  \n// Variable Can be accessible outside  \nvar myExternalVariable = "This global is an External Variable";  \n// Internal Function  \nfunction myInternalFun() {  \n  // Code Goes here  \n}  \n// Function Can be accessible outside   \nfunction myExternalFun (data) {  \n  // Code Goes here  \n  return data;  \n};  \nfunction abc (data) {  \n  // Code Goes here  \n  return data;  \n};  \nvar num1= 10; \n  \nfunction multi (){ \n  return num1*5; \n} \nExportModule = {  \n  myExternalFun: myExternalFun,  \n  myExternalVariable: myExternalVariable, \n  abc:abc, \n  num1:num1, \n  multi:multi \n  \n}; \n')),(0,a.kt)("p",null,"The JS Objects defined here are available across Apps in Data Binding, Event Actions, JS Transform, and Any other place that supports JavaScript. Make sure your custom code won\u2019t create any security vulnerabilities, Unsecured code could expose sensitive customer information."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Functions or Variables you add in that Export Module only that functions will be accessible outside or in other ways only exported functions/variables will be accessible in App.")),(0,a.kt)("p",null,"If you do not export the functions and variables with the export module, the JS object will be invalid and can\u2019t be defined as DronaHQ does not recognize them and throws an error."),(0,a.kt)("h3",{id:"test"},"Test"),(0,a.kt)("p",null,"There is a dropdown provided just before the script where you can find all the exported keywords of functions and variables, which all are available to be used in the app."),(0,a.kt)("p",null,"Select one keyword from the dropdown, and the script will run for it particularly.\nTest your JS functions by selecting from the above dropdown and passing test data to view its result output. Use the below syntax in your app to call this function."),(0,a.kt)("p",null,"There is a specific syntax to call the global JS objects - "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"JSOBJECTS_GLOBAL.functionName('test');\n")),(0,a.kt)("h3",{id:"output"},"Output"),(0,a.kt)("p",null,"Once you click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Run Script"),", the end result output will be showcased in ",(0,a.kt)("inlineCode",{parentName:"p"},"Output")," area."),(0,a.kt)("h2",{id:"using-js-object"},"Using JS Object"),(0,a.kt)("h3",{id:"javascript-code"},"JavaScript Code:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"function calculateInsurancePremium(age, gender, coverageAmount, tobaccoUsage) {\n// Base premium rates per $1,000 of coverage\nconst basePremiumRates = {\nmale: 15,\nfemale: 12,\n};\n\n// Factors for coverage amount and tobacco usage\nconst coverageAmountFactor = 0.1; // 10% increase\nconst tobaccoUsageSurcharge = 0.5; // 50% surcharge\n\n// Determine base premium rate based on age and gender\nconst basePremiumRate = basePremiumRates[gender.toLowerCase()];\nconst basePremium = basePremiumRate * (coverageAmount / 1000);\n\n// Adjust base premium based on coverage amount\nconst coverageAmountAdjustment = basePremium * coverageAmountFactor;\nconst adjustedBasePremium = basePremium + coverageAmountAdjustment;\n\n// Apply tobacco usage surcharge if applicable\nlet finalPremium = adjustedBasePremium;\nif (tobaccoUsage.toLowerCase() === \u2018smoker\u2019) {\nconst tobaccoSurcharge = adjustedBasePremium * tobaccoUsageSurcharge;\nfinalPremium += tobaccoSurcharge;\n}\n\n// Return the final premium amount\nreturn finalPremium;\n}\n\n// Example usage\nconst age = 40;\nconst gender = \u2018Male\u2019;\nconst coverageAmount = 500000;\nconst tobaccoUsage = \u2018Smoker\u2019;\n\nconst premium = calculateInsurancePremium(age, gender, coverageAmount, tobaccoUsage);\nconsole.log(\u2018Final Premium Amount:\u2019, premium);\n\nExportModule = {\ncalculateInsurancePremium: calculateInsurancePremium\n};\n")),(0,a.kt)("h3",{id:"script"},"Script"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"JSOBJECTS_GLOBAL.calculateInsurancePremium(25, 'Female', 5000000, 'non-smoker');\n")),(0,a.kt)("h3",{id:"output-1"},"Output"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"66000\n")),(0,a.kt)("p",null,"we can now Save it. using ",(0,a.kt)("inlineCode",{parentName:"p"},"Save")," button."),(0,a.kt)("h3",{id:"using-function-inside-app"},"Using function inside app"),(0,a.kt)("p",null,"Now, we can use the JS object from any app, with help of the keyword:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"JSOBJECTS_GLOBAL.calculateInsurancePremium()\n")),(0,a.kt)("h4",{id:"app-preview"},"App Preview:"),(0,a.kt)("p",null,"Added the Global JS in JS Code action block."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/advanced-concepts/global-js-objects/global-js-objects-functions-usage.png",alt:"Simple Database GUI",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Using function JS Code action block."))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/advanced-concepts/global-js-objects/global-js-objects-final-output.png",alt:"Simple Database GUI",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Final output in preview."))),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"To see how to declare and use app specific functions in app we can use Reusable JS Objects\nReference :- ",(0,a.kt)("a",{parentName:"p",href:"/app-scripting-and-code/reusable-js-objects"},"Reusable JS Objects"))))}g.isMDXComponent=!0}}]);