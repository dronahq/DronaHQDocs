"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[25685],{42051:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>d});r(67294);var a=r(3905);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const s={title:"Database Connection Errors"},l=void 0,c={unversionedId:"datasource-concepts/connector-error",id:"datasource-concepts/connector-error",title:"Database Connection Errors",description:"Error messages from databases can be cryptic, but they often contain valuable clues about the root cause of the problem. By understanding the error code and its description, you can identify the specific issue and take appropriate corrective actions.",source:"@site/docs/datasource-concepts/connector-error.md",sourceDirName:"datasource-concepts",slug:"/datasource-concepts/connector-error",permalink:"/datasource-concepts/connector-error",draft:!1,tags:[],version:"current",lastUpdatedAt:1713438403,formattedLastUpdatedAt:"Apr 18, 2024",frontMatter:{title:"Database Connection Errors"},sidebar:"docSidebar",previous:{title:"Whitelisting DronaHQ IP",permalink:"/datasource-concepts/whitelisting-dronahq-ip"},next:{title:"Building Apps",permalink:"/_heading_apps_building_apps"}},u={},d=[{value:"Permission Denied Errors (EACCES, ER_DBACCESS_DENIED_ERROR, ER_ACCESS_DENIED_ERROR, ER_HOST_NOT_PRIVILEGED)",id:"permission-denied-errors-eacces-er_dbaccess_denied_error-er_access_denied_error-er_host_not_privileged",level:3},{value:"Address Already In Use (EADDRINUSE)",id:"address-already-in-use-eaddrinuse",level:3},{value:"Connection Refused (ECONNREFUSED)",id:"connection-refused-econnrefused",level:3},{value:"Connection Reset by Peer (ECONNRESET)",id:"connection-reset-by-peer-econnreset",level:3},{value:"No Such File or Directory (ENOENT)",id:"no-such-file-or-directory-enoent",level:3},{value:"DNS Lookup Failed (ENOTFOUND, ER_BAD_HOST_ERROR)",id:"dns-lookup-failed-enotfound-er_bad_host_error",level:3},{value:"Broken Pipe (EPIPE)",id:"broken-pipe-epipe",level:3},{value:"Operation Timed Out (ETIMEOUT)",id:"operation-timed-out-etimeout",level:3},{value:"SSL Handshake Fails (HANDSHAKE_SSL_ERROR)",id:"ssl-handshake-fails-handshake_ssl_error",level:3},{value:"Handshake Fails (ER_HANDSHAKE_ERROR)",id:"handshake-fails-er_handshake_error",level:3},{value:"Too Many Connections Made (ER_CON_COUNT_ERROR)",id:"too-many-connections-made-er_con_count_error",level:3},{value:"Resources Are Exhausted (ER_OUT_OF_RESOURCES)",id:"resources-are-exhausted-er_out_of_resources",level:3},{value:"No Database Found (ER_NO_DB_ERROR | ER_BAD_DB_ERROR)",id:"no-database-found-er_no_db_error--er_bad_db_error",level:3},{value:"Server Is Shutting Down (ER_SERVER_SHUTDOWN)",id:"server-is-shutting-down-er_server_shutdown",level:3},{value:"Host Is Blocked (ER_HOST_IS_BLOCKED)",id:"host-is-blocked-er_host_is_blocked",level:3},{value:"Database Server Disappeared (CR_SERVER_GONE_ERROR)",id:"database-server-disappeared-cr_server_gone_error",level:3}],p={toc:d},h="wrapper";function m(e){var{components:t}=e,r=i(e,["components"]);return(0,a.kt)(h,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e}({},p,r),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Error messages from databases can be cryptic, but they often contain valuable clues about the root cause of the problem. By understanding the error code and its description, you can identify the specific issue and take appropriate corrective actions."),(0,a.kt)("h3",{id:"permission-denied-errors-eacces-er_dbaccess_denied_error-er_access_denied_error-er_host_not_privileged"},"Permission Denied Errors (EACCES, ER_DBACCESS_DENIED_ERROR, ER_ACCESS_DENIED_ERROR, ER_HOST_NOT_PRIVILEGED)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description:  This error indicates that the credentials you provided (username and password) are incorrect, lack the necessary privileges for the database, or there's a case-sensitivity mismatch."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Verify you're using the correct username and password, paying close attention to case sensitivity."),(0,a.kt)("li",{parentName:"ul"},"Check if the user has the required permissions to access the specific database.")))),(0,a.kt)("h3",{id:"address-already-in-use-eaddrinuse"},"Address Already In Use (EADDRINUSE)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error occurs when the port you're trying to use for the connection is already occupied by another process on your system."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Assign a different port for the database connection."),(0,a.kt)("li",{parentName:"ul"},"Identify and terminate the process that's currently using the desired port.")))),(0,a.kt)("h3",{id:"connection-refused-econnrefused"},"Connection Refused (ECONNREFUSED)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error signifies that the database server is unreachable or unavailable. It could be due to firewall restrictions, an inactive service, or an incorrect port being used. "),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Ensure the database server is operational and accessible."),(0,a.kt)("li",{parentName:"ul"},"Verify that your firewall settings allow connections to the database server. "),(0,a.kt)("li",{parentName:"ul"},"Check if you're using the correct port for the database connection.")))),(0,a.kt)("h3",{id:"connection-reset-by-peer-econnreset"},"Connection Reset by Peer (ECONNRESET)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error indicates that the database server abruptly closed the connection, possibly due to a server crash, timeout, or a large number of concurrent requests exceeding the limit."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Verify the database server is functioning properly and hasn't crashed."),(0,a.kt)("li",{parentName:"ul"},"If handling a high volume of concurrent requests, adjust connection pool settings to accommodate the load."),(0,a.kt)("li",{parentName:"ul"},"Review your database configuration to prevent idle connections from being terminated prematurely.")))),(0,a.kt)("h3",{id:"no-such-file-or-directory-enoent"},"No Such File or Directory (ENOENT)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error signifies that the database server couldn't locate the specified file or directory, often due to an incorrect socket path or bind address configuration."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Double-check the socket path for accuracy during connection establishment."),(0,a.kt)("li",{parentName:"ul"},'Use "127.0.0.1" instead of "localhost" when connecting to a local database.'),(0,a.kt)("li",{parentName:"ul"},"Ensure the bind address parameter is set to the correct value.")))),(0,a.kt)("h3",{id:"dns-lookup-failed-enotfound-er_bad_host_error"},"DNS Lookup Failed (ENOTFOUND, ER_BAD_HOST_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error indicates a problem resolving the database hostname to an IP address. It could be due to an invalid domain name, incorrect port usage, or DNS server issues."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},'Use "127.0.0.1" instead of "localhost" when connecting to a local database.'),(0,a.kt)("li",{parentName:"ul"},"Verify the host's domain name is spelled correctly or use the IP address directly."),(0,a.kt)("li",{parentName:"ul"},"Ensure the correct port is being used for the connection."),(0,a.kt)("li",{parentName:"ul"},"If managing a high volume of concurrent requests, check if connection limits (max_connections and max_user_connections) have been modified from defaults.")))),(0,a.kt)("h3",{id:"broken-pipe-epipe"},"Broken Pipe (EPIPE)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error occurs when you attempt to write data to a closed connection. It might be caused by exceeding maximum packet limitations, large queries, or writing to a closed remote stream."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Review maximum allowed packet limitations and adjust accordingly."),(0,a.kt)("li",{parentName:"ul"},"Break down large queries into smaller ones if possible."),(0,a.kt)("li",{parentName:"ul"},"In case of HTTP layer errors, analyze the exception logs and address the specific issue.")))),(0,a.kt)("h3",{id:"operation-timed-out-etimeout"},"Operation Timed Out (ETIMEOUT)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: This error signifies that the database server failed to respond within the designated time frame. It could be due to an inaccessible database server or firewall restrictions."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Verify the database server is publicly accessible if required."),(0,a.kt)("li",{parentName:"ul"},"If necessary, whitelist the database server's IP address in your firewall settings."),(0,a.kt)("li",{parentName:"ul"},"For private databases, consider using ",(0,a.kt)("a",{parentName:"li",href:"https://docs.dronahq.com/datasource-concepts/ssh-tunneling/"},"SSH Tunneling"),".")))),(0,a.kt)("h3",{id:"ssl-handshake-fails-handshake_ssl_error"},"SSL Handshake Fails (HANDSHAKE_SSL_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: The server and client couldn't establish a secure connection due to issues with encryption or certificates."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Check if your SSL certificate is valid and properly configured. "),(0,a.kt)("li",{parentName:"ul"},"Ensure the server supports the required cipher suites and protocols."),(0,a.kt)("li",{parentName:"ul"},"Contact support for assistance if the issue persists.")))),(0,a.kt)("h3",{id:"handshake-fails-er_handshake_error"},"Handshake Fails (ER_HANDSHAKE_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: Authentication method mismatch between the client and the server."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Try migrating your application to use the latest authentication mechanisms supported by DronaHQ. "),(0,a.kt)("li",{parentName:"ul"},"Contact support for assistance if the issue persists.")))),(0,a.kt)("h3",{id:"too-many-connections-made-er_con_count_error"},"Too Many Connections Made (ER_CON_COUNT_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: Too many connections."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Temporary Increase: Use ",(0,a.kt)("inlineCode",{parentName:"li"},"set global max_connections = 200;")," within MySQL to allow more connections temporarily. "),(0,a.kt)("li",{parentName:"ul"},"Permanent Increase: Edit the ",(0,a.kt)("inlineCode",{parentName:"li"},"my.cnf")," file and add ",(0,a.kt)("inlineCode",{parentName:"li"},"max_connections = 500")," under the ",(0,a.kt)("inlineCode",{parentName:"li"},"[mysqld]")," section. Restart the MySQL server for changes to take effect. "),(0,a.kt)("li",{parentName:"ul"},"Analyze and optimize slow queries to reduce execution time and free up connections. "),(0,a.kt)("li",{parentName:"ul"},"Review data storage techniques and consider schema improvements for better efficiency. ")))),(0,a.kt)("h3",{id:"resources-are-exhausted-er_out_of_resources"},"Resources Are Exhausted (ER_OUT_OF_RESOURCES)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: Out of memory."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Allocate specific memory to the database server to prevent other processes from consuming it. ")))),(0,a.kt)("h3",{id:"no-database-found-er_no_db_error--er_bad_db_error"},"No Database Found (ER_NO_DB_ERROR | ER_BAD_DB_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: No database or unknown database selected."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Double-check the database name for typos."),(0,a.kt)("li",{parentName:"ul"},"Verify the user has the necessary permissions to access the database. ")))),(0,a.kt)("h3",{id:"server-is-shutting-down-er_server_shutdown"},"Server Is Shutting Down (ER_SERVER_SHUTDOWN)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: Server shutdown in progress."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Perform a health check on the database server to identify any unexpected issues.")))),(0,a.kt)("h3",{id:"host-is-blocked-er_host_is_blocked"},"Host Is Blocked (ER_HOST_IS_BLOCKED)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: The host trying to connect has been blocked due to numerous failed connection attempts."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Unblock the host by flushing the database server's cache (e.g., ",(0,a.kt)("inlineCode",{parentName:"li"},"mysqladmin flush-hosts")," for MySQL)."),(0,a.kt)("li",{parentName:"ul"},"Verify there are no issues with TCP/IP connections from the blocked host."),(0,a.kt)("li",{parentName:"ul"},"Increase the ",(0,a.kt)("inlineCode",{parentName:"li"},"max_connect_errors")," value (refer to MySQL documentation) to reduce the chance of blocking hosts for occasional errors.")))),(0,a.kt)("h3",{id:"database-server-disappeared-cr_server_gone_error"},"Database Server Disappeared (CR_SERVER_GONE_ERROR)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Error Description: The database server connection was unexpectedly terminated."),(0,a.kt)("li",{parentName:"ul"},"Solutions:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Validate connection timeout parameter settings."),(0,a.kt)("li",{parentName:"ul"},"Check the database server's uptime to ensure it hasn't crashed."),(0,a.kt)("li",{parentName:"ul"},"Investigate the cause of any server.")))))}m.isMDXComponent=!0}}]);