"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[43712],{9958:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>v,frontMatter:()=>l,metadata:()=>u,toc:()=>c});i(67294);var a=i(3905),n=i(86291);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e}function p(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}const l={sidebar_position:6},s="Apps with CSV uploads",u={unversionedId:"building-apps-guides/apps-with-csv-uploads",id:"building-apps-guides/apps-with-csv-uploads",title:"Apps with CSV uploads",description:"Overview",source:"@site/docs/building-apps-guides/apps-with-csv-uploads.md",sourceDirName:"building-apps-guides",slug:"/building-apps-guides/apps-with-csv-uploads",permalink:"/building-apps-guides/apps-with-csv-uploads",draft:!1,tags:[],version:"current",lastUpdatedAt:1701973196,formattedLastUpdatedAt:"Dec 7, 2023",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"docSidebar",previous:{title:"Building Interactive tables",permalink:"/building-apps-guides/building-interactive-tables"},next:{title:"Building native mobile apps",permalink:"/building-apps-guides/building-native-mobile-apps"}},d={},c=[{value:"Overview",id:"overview",level:2},{value:"Building a sample app",id:"building-a-sample-app",level:2},{value:"App UI Configuration",id:"app-ui-configuration",level:3},{value:"Developing business logic",id:"developing-business-logic",level:3},{value:"JavaScript Code",id:"javascript-code",level:4},{value:"App Preview",id:"app-preview",level:3}],g={toc:c},b="wrapper";function v(e){var{components:t}=e,i=p(e,["components"]);return(0,a.kt)(b,o(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),a.forEach((function(t){r(e,t,i[t])}))}return e}({},g,i),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"apps-with-csv-uploads"},"Apps with CSV uploads"),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"You can work with CSV data inside DronaHQ with the help of File Parser Control, which lets you upload CSV file from your system and converts it into the JSON format. This can be very useful in cases, you want to validate or modify CSV data before binding it to table grid control or make bulk record insertion into databases. "),(0,a.kt)("p",null,"By default ",(0,a.kt)("inlineCode",{parentName:"p"},"strict checking")," is enabled for the File Parser Control which is useful to enforce schema validation (checking for certain number of columns and header names present) upon upload. You can enable/disable the ",(0,a.kt)("inlineCode",{parentName:"p"},"strict checking")," feature from the properties section of the File Parser control."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"In case ",(0,a.kt)("inlineCode",{parentName:"p"},"strict checking")," is enabled, it is mandatory to provide sample csv file.")),(0,a.kt)("h2",{id:"building-a-sample-app"},"Building a sample app"),(0,a.kt)("p",null,"Let's build a simple app to understand the working of the File Parser Control."),(0,a.kt)("h3",{id:"app-ui-configuration"},"App UI Configuration"),(0,a.kt)("p",null,"Drag and drop a Table grid and File parser control onto the canvas. Go to the properties section of File parser control and upload the sample csv file to enforce schema validation."),(0,a.kt)("figure",null,(0,a.kt)(n.Z,{src:"/img/building-apps-guides/apps-with-csv-uploads/sample-app-ui.png",alt:"App UI and sample file config",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"App UI and sample file config"))),(0,a.kt)("h3",{id:"developing-business-logic"},"Developing business logic"),(0,a.kt)("p",null,"Go to the ",(0,a.kt)("inlineCode",{parentName:"p"},"value_change")," event of File parser control and add a ",(0,a.kt)("inlineCode",{parentName:"p"},"JS Code")," block. Add an input parameter which will reference the File parser control, in the example shown below we have named the input parameter as ",(0,a.kt)("inlineCode",{parentName:"p"},"csvData")," and the file parser control has the name ",(0,a.kt)("inlineCode",{parentName:"p"},"uploadreport"),"."),(0,a.kt)("figure",null,(0,a.kt)(n.Z,{src:"/img/building-apps-guides/apps-with-csv-uploads/transform-csv-data.png",alt:"Transform CSV data using JavaScript",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Transform CSV data using JavaScript"))),(0,a.kt)("p",null,"Now paste this code inside the JS Code Editor."),(0,a.kt)("h4",{id:"javascript-code"},"JavaScript Code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"output = [];\nlet dateFormat = 'Do MMM YYYY';\nfor(let i = 0; i < csvData.length; i++) {\n    let record = csvData[i];\n    record['CreationDate'] = moment.unix(record['CreationDate']).format(dateFormat);\n    output.push(record);\n}\n")),(0,a.kt)("p",null,"After testing and saving the script, create a variable which will hold the JS Code's output."),(0,a.kt)("figure",null,(0,a.kt)(n.Z,{src:"/img/building-apps-guides/apps-with-csv-uploads/js-code-output-variable.png",alt:"JS Code block output variable",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"JS Code block output variable"))),(0,a.kt)("p",null,"Add a ",(0,a.kt)("inlineCode",{parentName:"p"},"Set Control Value")," block and bind the JS Code's output variable to the table grid control."),(0,a.kt)("figure",null,(0,a.kt)(n.Z,{src:"/img/building-apps-guides/apps-with-csv-uploads/set-control-value-configuration.png",alt:"Binding JS Code's output to table grid",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Binding JS Code's output to table grid"))),(0,a.kt)("h3",{id:"app-preview"},"App Preview"),(0,a.kt)("figure",null,(0,a.kt)(n.Z,{src:"/img/building-apps-guides/apps-with-csv-uploads/app-preview.png",alt:"App preview",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"App preview"))))}v.isMDXComponent=!0}}]);