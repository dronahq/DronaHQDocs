"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[55581],{73031:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>p,toc:()=>u});n(67294);var a=n(3905),o=n(86291);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const c={sidebar_position:1,title:"AWS S3"},s=void 0,p={unversionedId:"reference/connectors/aws-s3",id:"reference/connectors/aws-s3",title:"AWS S3",description:"Amazon S3 (Simple Storage Service) is a service from Amazon Web Services offering object storage through a web service interface. Amazon S3 can be used to store and retrieve any amount of data from anywhere.",source:"@site/docs/reference/connectors/aws-s3.md",sourceDirName:"reference/connectors",slug:"/reference/connectors/aws-s3",permalink:"/reference/connectors/aws-s3",draft:!1,tags:[],version:"current",lastUpdatedAt:1725972016,formattedLastUpdatedAt:"Sep 10, 2024",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"AWS S3"},sidebar:"docSidebar",previous:{title:"AWS Lambda",permalink:"/reference/connectors/aws-lambda"},next:{title:"BigQuery",permalink:"/reference/connectors/bigquery"}},d={},u=[{value:"Prerequisite",id:"prerequisite",level:2},{value:"Configuring API Connector in DronaHQ",id:"configuring-api-connector-in-dronahq",level:2},{value:"Supported API endpoints",id:"supported-api-endpoints",level:2},{value:"Using AWS S3 connector",id:"using-aws-s3-connector",level:2},{value:"List Objects in a Bucket",id:"list-objects-in-a-bucket",level:3},{value:"Uploading files to the bucket",id:"uploading-files-to-the-bucket",level:3},{value:"Downloading file from the bucket (Deprecated)",id:"downloading-file-from-the-bucket-deprecated",level:3},{value:"Self-Hosted Installation",id:"self-hosted-installation",level:2},{value:"Fields",id:"fields",level:3}],m={toc:u},k="wrapper";function h(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)(k,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Amazon S3 (Simple Storage Service) is a service from Amazon Web Services offering object storage through a web service interface. Amazon S3 can be used to store and retrieve any amount of data from anywhere. "),(0,a.kt)("h2",{id:"prerequisite"},"Prerequisite"),(0,a.kt)("p",null,"Before configuring the AWS S3 Connector to interact with your Amazon S3 storage resources, ensure you have the following:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Amazon Web Services (AWS) Account: Have an active AWS account and access to the AWS Management Console.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Access and Secret Access Keys: Obtain your AWS Access Key ID and Secret Access Key from the AWS IAM (Identity and Access Management) service. These credentials will be used to authenticate the connector with your AWS account.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Bucket and Object Information: Identify the specific Amazon S3 bucket(s) and object(s) you intend to work with using the connector. Gather the bucket names and object paths you plan to use during configuration.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Region: Be aware of the AWS region where your Amazon S3 resources are located. Different regions might have distinct endpoint URLs.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"IAM Role and Permissions: If generating IAM (Identity and Access Management) role keys, ensure that the IAM role associated with the AWS account has necessary permissions to access Amazon S3 resources. Permission can be granted through the AWS IAM console by creating a new group or modifying an existing group's permissions.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},'EC2 Instance Access (Optional): For EC2 instances, you can provide the IAM role access to the instance, allowing it to interact with S3 buckets without requiring explicit access keys. This can be accomplished by using EC2 Instance Profile and selecting "Use EC2 IAM Access Role" during configuration.')),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"S3 URLs and Custom Endpoints (Optional): If needed, be aware that you have the option to provide S3 URLs to enable path-style access or use custom endpoint base URLs. This is particularly useful for connecting to S3-compatible services like ",(0,a.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/products/spaces"},"DigitalOcean Spaces")," or ",(0,a.kt)("a",{parentName:"p",href:"https://wasabi.com/s3-compatible-cloud-storage/"},"Wasabi"),"."))),(0,a.kt)("h2",{id:"configuring-api-connector-in-dronahq"},"Configuring API Connector in DronaHQ"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter an identifiable ",(0,a.kt)("inlineCode",{parentName:"p"},"Account name"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Provide your ",(0,a.kt)("inlineCode",{parentName:"p"},"Access Key")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Secret Key")," from your AWS IAM account. Alternatively, you can choose to enable ",(0,a.kt)("inlineCode",{parentName:"p"},"Use EC2 IAM Access Role")," if you want to grant an EC2 instance permission to access S3 resources without explicit credentials.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Specify the appropriate ",(0,a.kt)("inlineCode",{parentName:"p"},"AWS region")," where your S3 resources are located.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"If needed, you can include ",(0,a.kt)("inlineCode",{parentName:"p"},"S3 URLs")," for path style and custom endpoint base URLs, which is useful for connecting to S3-compatible services like Digital Ocean Spaces or Wasabi.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"After entering all the required information, click ",(0,a.kt)("inlineCode",{parentName:"p"},"Save")," to complete the connector configuration."))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/connectors/awss3/details.png",alt:"AWS S3 with configuration details.",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"AWS S3 with configuration details."))),(0,a.kt)("p",null,"After successfully configuring and saving the connector settings, you can easily access your newly connected account by navigating to the ",(0,a.kt)("inlineCode",{parentName:"p"},"connected accounts")," list. You can find this option from the ",(0,a.kt)("inlineCode",{parentName:"p"},"Connector -> Manage Account")," section. This centralized location allows you to conveniently monitor and manage your connected accounts."),(0,a.kt)("h2",{id:"supported-api-endpoints"},"Supported API endpoints"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Action"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"ReadFile"),(0,a.kt)("td",{parentName:"tr",align:null},"Read the contents of a file stored in a specific S3 bucket.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"GetPreSignedUrl"),(0,a.kt)("td",{parentName:"tr",align:null},"Generate a pre-signed URL for a specified S3 object, providing temporary access to the object.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"UploadFile"),(0,a.kt)("td",{parentName:"tr",align:null},"Upload a file to a specific S3 bucket, allowing you to store files within your S3 storage.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"ListBuckets"),(0,a.kt)("td",{parentName:"tr",align:null},"Retrieve a list of all S3 buckets associated with your AWS account.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"ListObjects"),(0,a.kt)("td",{parentName:"tr",align:null},"List objects (files) within a specified S3 bucket, along with their details.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"DeleteObjects"),(0,a.kt)("td",{parentName:"tr",align:null},"Delete multiple objects from an S3 bucket using their keys.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"CopyObject"),(0,a.kt)("td",{parentName:"tr",align:null},"Copy an object from one S3 bucket or location to another, retaining metadata and access permissions.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"ReadFile"),(0,a.kt)("td",{parentName:"tr",align:null},"Read contents from specified file from s3 bucket using their key. For binary file it returns base64 value.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"DownloadFile (Deprecated)"),(0,a.kt)("td",{parentName:"tr",align:null},"Downloads the specified file from s3 bucket using their key to your local system. This works in actionflow only by keeping Download as File toggle on. For Alternative check ",(0,a.kt)("a",{parentName:"td",href:"#downloading-file-from-the-bucket-deprecated"},"note below"))))),(0,a.kt)("h2",{id:"using-aws-s3-connector"},"Using AWS S3 connector"),(0,a.kt)("h3",{id:"list-objects-in-a-bucket"},"List Objects in a Bucket"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Add a ",(0,a.kt)("inlineCode",{parentName:"p"},"Tablegrid")," control and then Bind Data. after adding a connector, select the action as ",(0,a.kt)("inlineCode",{parentName:"p"},"ListObjects")," from the ",(0,a.kt)("inlineCode",{parentName:"p"},"Connector Library"),". Select the Configured account.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Provide the Bucket name and other details from where you would list out the objects. "))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/connectors/awss3/listobj.jpeg",alt:"Listing Objects",mdxType:"Thumbnail"})),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Test the connection and click ",(0,a.kt)("inlineCode",{parentName:"p"},"Finish"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the Keys to get the data from the connector."))),(0,a.kt)("h3",{id:"uploading-files-to-the-bucket"},"Uploading files to the bucket"),(0,a.kt)("p",null,"Let us assume that we have a form where we select the Bucket name, the folder name to upload the files to, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"File upload")," control to enable uploading of the file/s. Let us add an action button that triggers the action flow to upload files."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"On the ",(0,a.kt)("inlineCode",{parentName:"p"},"button_click")," event of the action button, add the ",(0,a.kt)("inlineCode",{parentName:"p"},"Connector > Library > AWS S3 connector")," and choose the action ",(0,a.kt)("inlineCode",{parentName:"p"},"UploadFile"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the Connected account and click Continue.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Provide Bucket name, add the folder name (which is optional), and provide the Files using the ",(0,a.kt)("inlineCode",{parentName:"p"},"Fileupload")," control\u2019s name from the Use keywords. Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Continue"),"."))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/connectors/awss3/upload.jpeg",alt:"Listing Objects",mdxType:"Thumbnail"})),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Add the action name and provide the variable that returns the URL")),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/connectors/awss3/res.jpeg",alt:"Listing Objects",mdxType:"Thumbnail"})),(0,a.kt)("h3",{id:"downloading-file-from-the-bucket-deprecated"},"Downloading file from the bucket (Deprecated)"),(0,a.kt)("admonition",{title:"ALTERNATIVE",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Since, DownloadFile is deprecated, you can use GetPresignedURL Api to get the Url Link for your File from S3 bucket. And, provide this URL to ",(0,a.kt)("inlineCode",{parentName:"p"},"Download Files")," Action available under ",(0,a.kt)("inlineCode",{parentName:"p"},"Utility")," in ActionFlow. Also, in your S3 bucket policy, you will have to provide CORS permission to be able to download file from your Browser. Below is sample ",(0,a.kt)("inlineCode",{parentName:"p"},"CORS")," configuration for your bucket -"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre"},'[\n    {\n        "AllowedHeaders": [],\n        "AllowedMethods": [\n            "GET"\n        ],\n        "AllowedOrigins": [\n            "*"\n        ],\n        "ExposeHeaders": []\n    }\n]\n'))),(0,a.kt)("p",null,"Let us assume that we have a form where we specify the Bucket name, file key. Let us add an action button that triggers the action flow to download file."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"On the ",(0,a.kt)("inlineCode",{parentName:"p"},"button_click")," event of the action button, add the ",(0,a.kt)("inlineCode",{parentName:"p"},"Server-side action > AWS S3 connector")," and choose the action ",(0,a.kt)("inlineCode",{parentName:"p"},"DownloadFile"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the Connected account and click Continue.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Provide Bucket name, add the folder name (which is optional), and file key. Click ",(0,a.kt)("inlineCode",{parentName:"p"},"Continue"),"."))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/connectors/awss3/downloadFileDetails.png",alt:"Download File",mdxType:"Thumbnail"})),(0,a.kt)("h2",{id:"self-hosted-installation"},"Self-Hosted Installation"),(0,a.kt)("p",null,"To use the AWS S3 Connector on the on-prem version, follow these steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the Connector: Choose the AWS S3 Connector from the list.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Provide the Necessary Details: Enter the required information, including the Environment/Account Name (alphanumeric, must start with an alphabet, and can include ",(0,a.kt)("inlineCode",{parentName:"p"},"_")," but no spaces), Access Key, Secret Key, AWS Region (e.g., ",(0,a.kt)("inlineCode",{parentName:"p"},"us-east-1"),"), and additional optional settings."))),(0,a.kt)("h3",{id:"fields"},"Fields"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Environment/Account Name: The name can contain alphanumeric characters, must start with an alphabet, and can include ",(0,a.kt)("inlineCode",{parentName:"p"},"_")," but no spaces.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Access Key: Copy the Access Key from your AWS account and enter it here.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Secret Key: Copy the Secret Key from your AWS account and enter it here.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"AWS Region: Enter the region for the AWS account you're going to use (e.g., ",(0,a.kt)("inlineCode",{parentName:"p"},"us-east-1"),").")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Use EC2 IAM Access Role: Type "Yes" if you want to use an AWS EC2 IAM Role for authentication. If this option is selected, the Access Key and Secret Key fields can be left blank.')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Role to Assume (ARN): Enter the role to be used while accessing the API.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Force S3 URLs to Use Path Style: Type "yes" if you want to force S3 URLs to use the path style.')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"API Base URL: Ensure the URL is a valid domain name followed by the http/https protocol."))))}h.isMDXComponent=!0}}]);