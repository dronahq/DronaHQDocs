"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[3671],{76960:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>g,frontMatter:()=>s,metadata:()=>p,toc:()=>d});n(67294);var a=n(3905),r=n(86291);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={sidebar_position:61},u="Secure Embed",p={unversionedId:"secure-embed",id:"secure-embed",title:"Secure Embed",description:"Secure Embed is a powerful feature that enables seamless integration of DronaHQ app within your application while ensuring utmost security and user access control. By leveraging a Single Sign-On (SSO) token mechanism, this functionality restricts application access to authorized users only, safeguarding sensitive data and providing a smooth, secure user experience.",source:"@site/docs/secure-embed.md",sourceDirName:".",slug:"/secure-embed",permalink:"/secure-embed",draft:!1,tags:[],version:"current",lastUpdatedAt:1701179438,formattedLastUpdatedAt:"Nov 28, 2023",sidebarPosition:61,frontMatter:{sidebar_position:61},sidebar:"docSidebar",previous:{title:"Screen Routing",permalink:"/screen-routing"},next:{title:"Audit Logger",permalink:"/category/audit-logger"}},c={},d=[{value:"Generate SSO token",id:"generate-sso-token",level:2},{value:"Raw data",id:"raw-data",level:4},{value:"Handle Multi-Tenant",id:"handle-multi-tenant",level:2},{value:"Embed app",id:"embed-app",level:2}],m={toc:d},h="wrapper";function g(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)(h,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"secure-embed"},"Secure Embed"),(0,a.kt)("p",null,"Secure Embed is a powerful feature that enables seamless integration of DronaHQ app within your application while ensuring utmost security and user access control. By leveraging a Single Sign-On (SSO) token mechanism, this functionality restricts application access to authorized users only, safeguarding sensitive data and providing a smooth, secure user experience."),(0,a.kt)("p",null,"To securely embed the app inside your application you need to do the following steps:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Open the app in the DronaHQ that you want to embed."),(0,a.kt)("li",{parentName:"ul"},"Make sure the application is published."),(0,a.kt)("li",{parentName:"ul"},"Click on the Share button on the right top corner of the screen."),(0,a.kt)("li",{parentName:"ul"},"Look for the ",(0,a.kt)("inlineCode",{parentName:"li"},"Public URL and Embed Apps")," section in that click on ",(0,a.kt)("inlineCode",{parentName:"li"},"Embed configuration ->")),(0,a.kt)("li",{parentName:"ul"},"It will open the embed configuration modal, in the left-hand side select the secure embed tab.")),(0,a.kt)("p",null,"Once you do the above-mentioned steps you will be able to see the following screen, with specific steps that you need to do to securely embed the app."),(0,a.kt)("figure",null,(0,a.kt)(r.Z,{src:"/img/advanced-concepts/secure-embed/embed-configuration-modal.png",alt:"Embed configuration modal",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Embed Configuration Modal"))),(0,a.kt)("h2",{id:"generate-sso-token"},"Generate SSO token"),(0,a.kt)("p",null,"This is the first step where your server makes an API Request to get the SSO token using the CURL request provided in the secure embed\nconfig modal. "),(0,a.kt)("admonition",{title:"Call from Backend",type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"The SSO token should be requested from your backend each time a specific end-user of your application wants to see an embedded\nApp. ")),(0,a.kt)("figure",null,(0,a.kt)(r.Z,{src:"/img/advanced-concepts/secure-embed/curl-request-to-generate-sso.png",alt:"CURL request to generate SSO token",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"CURL request to generate SSO token"))),(0,a.kt)("h4",{id:"raw-data"},"Raw data"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Key"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"token"),(0,a.kt)("td",{parentName:"tr",align:null},"Token to authenticate the user making the call, will be provided to you by default in the curl request")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"email"),(0,a.kt)("td",{parentName:"tr",align:null},"End users email address for which you want to generate the SSO token.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"type"),(0,a.kt)("td",{parentName:"tr",align:null},"pass SSO in the value")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"properties"),(0,a.kt)("td",{parentName:"tr",align:null},"Stores object, with each key representing query parameters of your application, if you want to pass some extra data to handle multi-tenant applications you can pass these data by configuring ",(0,a.kt)("inlineCode",{parentName:"td"},"query strings")," in the DronaHQ. and value for those parameters will be passed here")))),(0,a.kt)("p",null,"The result of the API call will be the SSO token which will be used for embedding the app in the third step."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'{\n    "type": "sso",\n    "token":"<SSO Authorization token>"\n}\n')),(0,a.kt)("h2",{id:"handle-multi-tenant"},"Handle Multi-Tenant"),(0,a.kt)("p",null,"In case you are embedding the app for showing multi-tenant data or you want to pass more user or other parameters, you can create your keys in the query string in settings and pass the keys and their values in the properties object. "),(0,a.kt)("p",null,"As you can see in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Query string configuration image")," that we have configured multiple query string parameters and if you compare it with the ",(0,a.kt)("inlineCode",{parentName:"p"},"CURL request to generate SSO token")," image the properties key of raw data contains the same keys from the query string configuration."),(0,a.kt)("figure",null,(0,a.kt)(r.Z,{src:"/img/advanced-concepts/secure-embed/query-string-configuration.png",alt:"Query string configuration",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Query string configuration"))),(0,a.kt)("h2",{id:"embed-app"},"Embed app"),(0,a.kt)("p",null,"This is the last step, in this step you need to add the script tag provided to you in the config modal to your applications head section and place the custom DronaHQ microapp tag inside your application's html page where you want to embed it, set the token value that you got from step one and you are finished with the secure embed configuration. all you need to do is fire up the application and test."),(0,a.kt)("figure",null,(0,a.kt)(r.Z,{src:"/img/advanced-concepts/secure-embed/embed-microapp.png",alt:"Embed app",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Embed app"))))}g.isMDXComponent=!0}}]);