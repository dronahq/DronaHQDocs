"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[75431],{62045:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>y,frontMatter:()=>u,metadata:()=>d,toc:()=>p});n(67294);var a=n(3905),o=n(86291);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const u={sidebar_position:1,title:"Custom Control"},s=void 0,d={unversionedId:"reference/controls/custom-control",id:"reference/controls/custom-control",title:"Custom Control",description:"Before creating your own custom control, please have a look at DronaHQ provided Controls Library that you can readily use.",source:"@site/docs/reference/controls/custom-control.md",sourceDirName:"reference/controls",slug:"/reference/controls/custom-control",permalink:"/reference/controls/custom-control",draft:!1,tags:[],version:"current",lastUpdatedAt:1723467593,formattedLastUpdatedAt:"Aug 12, 2024",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Custom Control"},sidebar:"docSidebar",previous:{title:"Currency",permalink:"/reference/controls/currency"},next:{title:"Dashboard",permalink:"/reference/controls/dashboard"}},c={},p=[{value:"Overview",id:"overview",level:2},{value:"DronaHQ Control Interface (CI)",id:"dronahq-control-interface-ci",level:2},{value:"Callback Function",id:"callback-function",level:3},{value:"Define Input Type",id:"define-input-type",level:3},{value:"Pass Data to your Custom Control",id:"pass-data-to-your-custom-control",level:2},{value:"Pass data to your app from your custom control",id:"pass-data-to-your-app-from-your-custom-control",level:2},{value:"Write HTML Code",id:"write-html-code",level:4},{value:"Javascript Example",id:"javascript-example",level:2},{value:"React Example",id:"react-example",level:2},{value:"Custom Events",id:"custom-events",level:2},{value:"Adding Custom Events",id:"adding-custom-events",level:3},{value:"Trigger Custom Event",id:"trigger-custom-event",level:3},{value:"Limitations",id:"limitations",level:2}],m={toc:p},h="wrapper";function y(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)(h,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{title:"Please Note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Before creating your own custom control, please have a look at DronaHQ provided ",(0,a.kt)("a",{parentName:"p",href:"https://www.dronahq.com/controls/"},"Controls Library")," that you can readily use.")),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Custom control allows you to design your own UI and have your own Actions defined. Creating Custom control requires following things -"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#dronahq-control-interface-ci"},"An interface for passing data back and forth between the DronaHQ app and the custom control code.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#pass-data-to-your-custom-control"},"Pass Data to your Custom Control")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#pass-data-to-your-app-from-your-custom-control"},"Pass data to your app from your custom control")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#write-html-code"},"Write HTML Code for your control.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#custom-events"},"Defining your own Custom Events"))),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/custom-control-sequence.png",alt:"Control Control Flow",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Control Control Flow"))),(0,a.kt)("h2",{id:"dronahq-control-interface-ci"},"DronaHQ Control Interface (CI)"),(0,a.kt)("p",null,"DronaHQ provides control interface for your custom control to pass data back and forth from your control. For this ",(0,a.kt)("inlineCode",{parentName:"p"},"CI")," is the interface object that you need to call with methods listed below based on your needs."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/control-interface.png",alt:"Control Interface (CI)",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Control Interface (CI)"))),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.init(callback)")),(0,a.kt)("td",{parentName:"tr",align:null},"You must call ",(0,a.kt)("inlineCode",{parentName:"td"},"CI.init(callback)")," method to initialize a bridge between DronaHQ and your Control. ",(0,a.kt)("a",{parentName:"td",href:"#callback-function"},(0,a.kt)("inlineCode",{parentName:"a"},"callback"))," is a function which will be called by DronaHQ for various needs that will have ",(0,a.kt)("inlineCode",{parentName:"td"},"payload")," as a argument.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.returnValue(value)")),(0,a.kt)("td",{parentName:"tr",align:null},"Call this method when you want to return the value from your control to DronaHQ. Here,",(0,a.kt)("inlineCode",{parentName:"td"},"value")," argument indicates what data you want to pass from your control. This is usually be used when ",(0,a.kt)("inlineCode",{parentName:"td"},"callback")," function is called with type ",(0,a.kt)("inlineCode",{parentName:"td"},"getValue"),".")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.triggerChange()")),(0,a.kt)("td",{parentName:"tr",align:null},"Call this method when want to notify other controls or data query variable to re-evaluate their data when there is any change in your Control's return data.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.showError(errorMessages)")),(0,a.kt)("td",{parentName:"tr",align:null},"Call this method when you want DronaHQ to display error in default control's error space. Here ",(0,a.kt)("inlineCode",{parentName:"td"},"errorMessages")," in argument represents array of strings with one or more error messages which you want to display it to user. This should be usually called when ",(0,a.kt)("inlineCode",{parentName:"td"},"callback")," function is called with type ",(0,a.kt)("inlineCode",{parentName:"td"},"runValidation"),".")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.clearError()")),(0,a.kt)("td",{parentName:"tr",align:null},"Call this method when you want to remove all the error messaged previously displayed by DronaHQ. This should be usually called when valid data is inputted by the user for your control.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.triggerAction(eventName)")),(0,a.kt)("td",{parentName:"tr",align:null},"Call this method when you want to trigger a particular event which you have pre-defined in your Custom Events section. Here ",(0,a.kt)("inlineCode",{parentName:"td"},"eventName")," in argument represents event name he wants to trigger which he has created eg focusout, change, button_click etc;")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"CI.returnValidationResult(booleanValue)")),(0,a.kt)("td",{parentName:"tr",align:null},"You must call this method when ",(0,a.kt)("inlineCode",{parentName:"td"},"callback")," function is called with type ",(0,a.kt)("inlineCode",{parentName:"td"},"runValidation")," with either ",(0,a.kt)("inlineCode",{parentName:"td"},"true")," or ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," value based on your control's data which is valid or not.")))),(0,a.kt)("h3",{id:"callback-function"},"Callback Function"),(0,a.kt)("p",null,"Syntax:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"callback(payload)\n")),(0,a.kt)("p",null,"Callback function will be automatically called by DronaHQ App whenever it needs to interact with your Custom Control. It could be for Initializing your control, Getting its value for other dependent controls/queries on your control and other interactions listed below. In callback function, payload is passed in the parameter from DronaHQ. payload is a json object with type and value key with below sample format-"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'  {type:"setValue",value:"xyz"}\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"type"),(0,a.kt)("th",{parentName:"tr",align:null},"value"),(0,a.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"initComponent"),(0,a.kt)("td",{parentName:"tr",align:null},"empty"),(0,a.kt)("td",{parentName:"tr",align:null},"This will get called only once in entire lifecycle of your App. Here you can initialize your iframe component, if we wish to have any kind of initialization for your control then you have to write code for it here. You can initialize your visual elements with default values, add event listeners and so on.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"setValue"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"BIND DATA")," value"),(0,a.kt)("td",{parentName:"tr",align:null},"This will get called whenever your control data needs to be refreshed. If you're binding some data through data binding, you will have to write logic to set value to your visual elements to reflect the corresponding data set from BIND DATA section in your control. In case, you have selected ",(0,a.kt)("inlineCode",{parentName:"td"},"select")," type for ",(0,a.kt)("inlineCode",{parentName:"td"},"Input Type")," option in your control, then in ",(0,a.kt)("inlineCode",{parentName:"td"},"value")," field, you will get json object in ",(0,a.kt)("inlineCode",{parentName:"td"},'[{"name": "<BIND Data value 1>", "selected": false},{"name": "<BIND Data value 2>", "selected": true}]')," format, where value in ",(0,a.kt)("inlineCode",{parentName:"td"},"name")," key will be based on your ",(0,a.kt)("inlineCode",{parentName:"td"},"OPTIONS")," BIND DATA value and value in ",(0,a.kt)("inlineCode",{parentName:"td"},"selected")," key will be based on your ",(0,a.kt)("inlineCode",{parentName:"td"},"SELECTED OPTIONS")," BIND DATA value.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"getValue"),(0,a.kt)("td",{parentName:"tr",align:null},"empty"),(0,a.kt)("td",{parentName:"tr",align:null},"This method will get called whenever your control's data is required by any other control or data query in your App that you have referenced. You must return the expected output your control want's to return. For example, in case of Text Input control, you should return the value of Text input control which user has inputted.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"runValidation"),(0,a.kt)("td",{parentName:"tr",align:null},"empty"),(0,a.kt)("td",{parentName:"tr",align:null},"This method will get called whenever a validation needs to be performed for this control. In this case, you should validate your control with the current data that it has and show any error message in case of validation is failed so that will be noticed by end user.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onReload"),(0,a.kt)("td",{parentName:"tr",align:null},"object"),(0,a.kt)("td",{parentName:"tr",align:null},"This method will get called whenever iframe reloads i.e on navigation ,resulting in a loss of state . So to preserve the state we provide you 2 values ",(0,a.kt)("inlineCode",{parentName:"td"},"returnData")," and ",(0,a.kt)("inlineCode",{parentName:"td"},"formulaData")," , here returnData will be last saved value in control and formulaData will be the data which is binded through data binding section. The value will be ",(0,a.kt)("inlineCode",{parentName:"td"},'{returnData: "xyz",formulaData: "xyz@email.com"}'))))),(0,a.kt)("p",null,"Example: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'  const callback = function (payload) {\n            if (payload.type == "initComponent") {\n              // here you can initialize your iframe component when needed\n              \n            }\n            if (payload.type == "setValue") {\n                // your control will get the data from app, so you can have your logic acc to your value\n                let input = document.getElementById(\'in1\');\n                input.value = payload.value;\n            }\n            if (payload.type == "getValue") {\n                // this method is ued to set the return value of your control\n                let input = document.getElementById(\'in1\');\n                let val = input.value;               \n                CI.returnValue(val);\n            }\n            if (payload.type == "onReload"){\n                // here you can reset the state of your control\n                let fmlValue = payload.value.formulaData;\n                let returnData = payload.value.returnData;\n                let input = document.getElementById(\'in1\');\n                input.value = fmlValue;\n            }\n            if (payload.type == "runValidation") {\n                // checks whether your control is valid or not\n                if (isNaN(input.value) || input.value.includes(\'@\')) {\n                    CI.returnValidationResult(false);\n                }\n                else {\n                    CI.returnValidationResult(true);\n                }\n            }\n        }\n')),(0,a.kt)("h3",{id:"define-input-type"},"Define Input Type"),(0,a.kt)("p",null,"Input type defines whether your control has only single BIND data option or multiple BIND data option (Options and Selected Options)."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Input Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"single"),(0,a.kt)("td",{parentName:"tr",align:null},"If ",(0,a.kt)("inlineCode",{parentName:"td"},"single")," is selected, then you can directly provide data under ",(0,a.kt)("inlineCode",{parentName:"td"},"BIND DATA")," option. This is default option selected for a new control.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"select"),(0,a.kt)("td",{parentName:"tr",align:null},"If ",(0,a.kt)("inlineCode",{parentName:"td"},"select")," is selected, then your control will have 2 BIND DATA options - ",(0,a.kt)("inlineCode",{parentName:"td"},"Options")," and ",(0,a.kt)("inlineCode",{parentName:"td"},"Selected Options"),".  Recommended to use with controls like dropdowns, checkbox, etc.")))),(0,a.kt)("h2",{id:"pass-data-to-your-custom-control"},"Pass Data to your Custom Control"),(0,a.kt)("p",null,"You can define input data that you want your Custom Control to be initialized with. You can get this data in your ",(0,a.kt)("inlineCode",{parentName:"p"},"callback")," method with type as ",(0,a.kt)("inlineCode",{parentName:"p"},"setValue")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," in ",(0,a.kt)("inlineCode",{parentName:"p"},"payload.value"),". It can either be another control, keyword, data query variable or any json object."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/bind-data-custom-control.png",alt:"html code",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"BIND DATA"))),(0,a.kt)("p",null,"In the following example code, you are initializing the ",(0,a.kt)("inlineCode",{parentName:"p"},"input")," control of html with ",(0,a.kt)("inlineCode",{parentName:"p"},"{{USEREMAIL}}")," keyword passed in ",(0,a.kt)("inlineCode",{parentName:"p"},"user")," key."),(0,a.kt)("p",null,"Example: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<html>\n  <body>\n    <h1>Input</h1>\n    <input id="in1" type="text" placeholder="Your name">\n    <script>\n      const callback = function (payload) {\n        if (payload.type == "setValue") {\n          try {\n            // Parse the payload value as JSON if it has been stringified\n            let inputPayload = JSON.parse(payload.value);\n\n            // Get the input element\n            let input = document.getElementById(\'in1\');\n            // Set the input element with the user\'s email from the parsed JSON\n            input.value = inputPayload.user;\n          } catch (error) {\n            console.error("Error processing the payload:", error);\n          }\n        }\n      };\n      CI.init(callback);\n    <\/script>\n  </body>\n</html>\n\n')),(0,a.kt)("h2",{id:"pass-data-to-your-app-from-your-custom-control"},"Pass data to your app from your custom control"),(0,a.kt)("p",null,"You can also access data from your custom control in other controls and data queries in your app. In the following example code, ",(0,a.kt)("inlineCode",{parentName:"p"},"addEventListener")," method on ",(0,a.kt)("inlineCode",{parentName:"p"},"input")," control notifies DronaHQ of change in controls value, which then calls ",(0,a.kt)("inlineCode",{parentName:"p"},"callback")," method of type ",(0,a.kt)("inlineCode",{parentName:"p"},"getValue")," to get the updated value from the custom control. This value can be accessed in your app using ",(0,a.kt)("inlineCode",{parentName:"p"},"{{customcontrol}}")," where ",(0,a.kt)("inlineCode",{parentName:"p"},"customcontrol")," is unique name of your Custom Control."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},' <html>\n   <body>\n       <h1>Input</h1>\n       <input id="in1" type="text" placeholder="Your name">\n       <script>\n           let input = document.getElementById(\'in1\');\n           const callback = function (payload) {\n               if (payload.type == "getValue") {\n                   let val = input.value;               \n                   CI.returnValue(val);\n               }\n           }\n           CI.init(callback);\n           input.addEventListener("input", function (e) {\n                   // Notify change to any other control or data query variable\n                   CI.triggerChange();\n           });\n       <\/script>\n   </body>\n </html>\n')),(0,a.kt)("h4",{id:"write-html-code"},"Write HTML Code"),(0,a.kt)("p",null,"In ",(0,a.kt)("inlineCode",{parentName:"p"},"property->Write your code")," section, you can put the HTML, CSS, and JavaScript code which handles the appearance and behavior of the custom control. DronaHQ places this code in an iFrame within your DronaHQ app."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/html_code.png",alt:"html code",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"left"},(0,a.kt)("i",null,"Html Code"))),(0,a.kt)("h2",{id:"javascript-example"},"Javascript Example"),(0,a.kt)("p",null,"  Here is the example of Sample Custom Control using Javascript"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<html>\n  <style>\n      input[type=text] {\n          width: 100%;\n          border: 2px solid #aaa;\n          border-radius: 4px;\n          margin: 8px 1px;\n          outline: none;\n          padding: 8px;\n          box-sizing: border-box;\n          transition: .3s;\n      }\n      input[type=text]:focus {\n          border-color: dodgerBlue;\n          box-shadow: 0 0 8px 0 dodgerBlue;\n      }\n  </style>\n  <body>\n      <h1>Input</h1>\n      <input id="in1" type="text" placeholder="Your name">\n      <script>\n          let input = document.getElementById(\'in1\');\n          const callback = function (payload) {\n              if (payload.type == "initComponent") {\n              }\n              if (payload.type == "setValue") {\n                  input.value = payload.value;\n                  let errorList = [];\n                  if (input.value.includes(\'@\')) {\n                    errorList.push("does not accept special character");\n                    CI.showError(errorList);\n                  }\n                  else{\n                    CI.clearError();\n                  }\n              }\n              if (payload.type == "getValue") {\n                  let val = input.value;               \n                  CI.returnValue(val);\n              }\n               if (payload.type == "onReload"){\n                  let fmlValue = payload.value.formulaData;\n                  let returnData = payload.value.returnData;\n                  input.value = fmlValue;\n              }\n              if (payload.type == "runValidation") {\n                  if (isNaN(input.value) || input.value.includes(\'@\')) {\n                      CI.returnValidationResult(false);\n                  }\n                  else {\n                      CI.returnValidationResult(true);\n                  }\n              }\n          }\n          CI.init(callback);\n          input.addEventListener("input", function (e) {\n              let errorMessages = []; \n              if (input.value.includes(\'@\')) {\n                  errorMessages.push("Does not accept special character!");\n              }\n              if (errorMessages.length > 0) {\n                  // DronaHQ to display error message for this control\n                  CI.showError(errorMessages);\n              } else {\n                  // Clear any error messages previously showed for this control\n                  CI.clearError();\n                  // Notify change to any other control or data query variable\n                  CI.triggerChange();\n                  // TODO: You can add Custom Event named - on_change\n                  CI.triggerAction("on_change");\n              }\n          });\n      <\/script>\n  </body>\n</html>\n')),(0,a.kt)("h2",{id:"react-example"},"React Example"),(0,a.kt)("p",null,"  Here is the example of Sample Custom Control using React"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<html>\n    <style>\n      input[type=text] {\n        width: 100%;\n        border: 2px solid #aaa;\n        border-radius: 4px;\n        margin: 8px 1px;\n        outline: none;\n        padding: 8px;\n        box-sizing: border-box;\n        transition: 0.3s;\n      }\n\n      input[type=text]:focus {\n        border-color: dodgerBlue;\n        box-shadow: 0 0 8px 0 dodgerBlue;\n      }\n    </style>\n    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin=""><\/script>\n    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin=""><\/script>\n    <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>\n  <body>\n      <div id="root"></div>\n      <script type="text/babel">\n        const { useState , useEffect} = React;\n\n        const App = () => {\n          const [inputValue, setInputValue] = useState(\'\');\n          const callback = function (payload) {\n            if (payload.type == "setValue") {\n              setInputValue(payload.value);\n            }\n            if (payload.type == "getValue") {\n              CI.returnValue(inputValue);\n            }\n            if (payload.type == "onReload"){\n              setInputValue(payload.value.formulaData)              \n            }\n            if (payload.type == "runValidation") {\n              if (inputValue.includes(\'@\')) {\n                CI.returnValidationResult(false);\n              } else {\n                CI.returnValidationResult(true);\n              }\n            }\n          };\n        CI.init(callback);\n        const handleInputChange = (e) => {\n            let value = e.target.value;\n            setInputValue(value);\n        };\n        useEffect(() => {\n            // This effect will execute after every state update of inputValue\n            let errorMessages = [];\n            if (inputValue.includes(\'@\')) {\n              errorMessages.push("Does not accept special character!");\n            }\n            if (errorMessages.length > 0) {\n              // DronaHQ to display error message for this control\n              CI.showError(errorMessages);\n            } else {\n              // Clear any error messages previously showed for this \n              CI.clearError();\n              // Notify change to any other control or data query variable\n              CI.triggerChange();\n              // TODO: You can add Custom Event named - on_change\n              CI.triggerAction("on_change");\n            }\n        }, [inputValue]);\n          return (\n            <div>\n              <h1>Input</h1>\n              <input\n                type="text"\n                placeholder="Your name"\n                value={inputValue}\n                onChange={handleInputChange}\n              />\n            </div>\n          );\n        };\n        ReactDOM.render(<App />, document.getElementById(\'root\'));\n      <\/script>\n  </body>\n</html>\n')),(0,a.kt)("h2",{id:"custom-events"},"Custom Events"),(0,a.kt)("p",null,"Custom Events allow to have a predefined list of events that your custom control provides. Using Custom Events, user can build their Action flow which will get triggered when your custom control triggers the event. For example, you can define a ",(0,a.kt)("inlineCode",{parentName:"p"},"button_click")," event which will be fired whenever a user presses the button in your Custom Control."),(0,a.kt)("h3",{id:"adding-custom-events"},"Adding Custom Events"),(0,a.kt)("p",null,"In the property section, you have an option to add one or more custom events that you want in your Custom Control. You can add custom events using ",(0,a.kt)("inlineCode",{parentName:"p"},"ADD MORE")," option and provide a friendly name. You can also update the event name and delete any event using ",(0,a.kt)("inlineCode",{parentName:"p"},"delete")," action."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/add-custom-event.png",alt:"Add Custom Event",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Add Custom Event"))),(0,a.kt)("h3",{id:"trigger-custom-event"},"Trigger Custom Event"),(0,a.kt)("p",null,"For triggering any custom event of your control, you should call ",(0,a.kt)("inlineCode",{parentName:"p"},'CI.triggerAction("event_name");')," , where ",(0,a.kt)("inlineCode",{parentName:"p"},"event_name")," should be the friendly name you provided when adding the event. For example, you can have custom event named - ",(0,a.kt)("inlineCode",{parentName:"p"},"on_change")," to call whenever user is inputting data to any Input control in your Custom Control using ",(0,a.kt)("inlineCode",{parentName:"p"},'CI.triggerAction("on_change");')," method call."),(0,a.kt)("figure",null,(0,a.kt)(o.Z,{src:"/img/reference/controls/custom-control/custom-events-added.png",alt:"Custom Events Added",mdxType:"Thumbnail"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null,"Custom Events Added"))),(0,a.kt)("h2",{id:"limitations"},"Limitations"),(0,a.kt)("p",null,"Below are the limitations currently when building your Custom Control -"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"You can not directly run any DATAQUERY variable."),(0,a.kt)("li",{parentName:"ol"},"You can not call DronaHQ Custom functions (",(0,a.kt)("a",{parentName:"li",href:"/reference/keywords-js-utilities/fx-formulas"},"Fx formulas"),", UTILITY, HELPER, DATAQUERY)."),(0,a.kt)("li",{parentName:"ol"},"You can not access other controls data, data query variable and ",(0,a.kt)("a",{parentName:"li",href:"/reference/keywords-js-utilities/keywords"},"keywords")," unless you pass it in DATA BIND section."),(0,a.kt)("li",{parentName:"ol"},"You can not trigger other control's/screen's Events."),(0,a.kt)("li",{parentName:"ol"},"You can not invoke DronaHQ JS Objects directly in your html code."),(0,a.kt)("li",{parentName:"ol"},"You can not use THEME variables for your custom control.")))}y.isMDXComponent=!0}}]);