"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[94501],{18700:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>b,frontMatter:()=>l,metadata:()=>u,toc:()=>c});a(67294);var i=a(3905),n=a(86291);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function o(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const l={sidebar_position:132,title:"Public and Embed Sharing options"},p="Public and Embed Sharing options",u={unversionedId:"public-and-embed-sharing-options",id:"public-and-embed-sharing-options",title:"Public and Embed Sharing options",description:"While sharing the apps built on DronaHQ you have the following broad options:",source:"@site/docs/public-and-embed-sharing-options.md",sourceDirName:".",slug:"/public-and-embed-sharing-options",permalink:"/public-and-embed-sharing-options",draft:!1,tags:[],version:"current",lastUpdatedAt:1706882289,formattedLastUpdatedAt:"Feb 2, 2024",sidebarPosition:132,frontMatter:{sidebar_position:132,title:"Public and Embed Sharing options"},sidebar:"docSidebar",previous:{title:"Overview",permalink:"/public-and-embed-overview"},next:{title:"Secure embed with SSO token",permalink:"/public-and-embed-secure-embed"}},d={},c=[{value:"Open public links",id:"open-public-links",level:2},{value:"Friendly URLs",id:"friendly-urls",level:3},{value:"Setting up tracking using query params",id:"setting-up-tracking-using-query-params",level:3},{value:"Secure public links for verified users",id:"secure-public-links-for-verified-users",level:2},{value:"Open public embeds",id:"open-public-embeds",level:2},{value:"Secure embeds",id:"secure-embeds",level:2},{value:"Pass message from parent to embed app",id:"pass-message-from-parent-to-embed-app",level:2},{value:"Auto-relay query params to public embeds",id:"auto-relay-query-params-to-public-embeds",level:3},{value:"Real-time message passing framework",id:"real-time-message-passing-framework",level:3}],m={toc:c},h="wrapper";function b(e){var{components:t}=e,a=o(e,["components"]);return(0,i.kt)(h,s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){r(e,t,a[t])}))}return e}({},m,a),{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"public-and-embed-sharing-options"},"Public and Embed Sharing options"),(0,i.kt)("p",null,"While sharing the apps built on DronaHQ you have the following broad options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#open-public-links"},"Open public links")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#secure-public-links-for-verified-users"},"Secure public links (with auth)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#open-public-embeds"},"Open public embeds")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#secure-embeds"},"Secure embeds (with sso token)"))),(0,i.kt)("h2",{id:"open-public-links"},"Open public links"),(0,i.kt)("p",null,"This feature is useful for usecases where you don't need the end user authentication like, delivery tracking, feedback forms, registration forms etc. You need to navigate to ",(0,i.kt)("inlineCode",{parentName:"p"},"Share -> Public URLs and embed apps")," and Enable the public access."),(0,i.kt)("admonition",{title:"Add-ons",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"If you are on user based plans you need to subscribe to the public and embed add-on to use this feature. You can try out this feature in a trial though in all plans.")),(0,i.kt)("admonition",{title:"Keywords",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"There are some keywords and actions that might not work effectively in a public app scenario. Keywords related to user details and actions related to end-user portals will not work effectively.")),(0,i.kt)("p",null,"When you enable this toggle, you can see a public URL via which your users can access the app that you have built without any authentication. You public URL will look like: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-url"},"https://your_subdomain.dronahq.io/uniqueid OR https://your_custom_domain/uniqueid\n")),(0,i.kt)("h3",{id:"friendly-urls"},"Friendly URLs"),(0,i.kt)("p",null,"You can change the ",(0,i.kt)("inlineCode",{parentName:"p"},"uniqueid")," to a friendlier URL by navigating to ",(0,i.kt)("inlineCode",{parentName:"p"},"Public URL configuration")," and setting up the friendly URL for your users."),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/friendly-url.png",alt:"Friendly URLs",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Friendly URLs"))),(0,i.kt)("h3",{id:"setting-up-tracking-using-query-params"},"Setting up tracking using query params"),(0,i.kt)("p",null,"You can set up your campaigns for tracking using query params by navigating to ",(0,i.kt)("inlineCode",{parentName:"p"},"Setup tracking")," in the public apps modal. Imagine you are building a registration form which has a few utm params dependent on different sources where you are running this campaign. Generating unique links for each campaign could be the requirement in that case. You can define as many query params to generate a tracking link for these use cases. "),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/setup-tracking.png",alt:"Set up tracking",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Set up tracking"))),(0,i.kt)("h2",{id:"secure-public-links-for-verified-users"},"Secure public links for verified users"),(0,i.kt)("p",null,"There might be times where you don't want your users to login to a single end-user portal that DronaHQ provides and you want to generate different links for each app yet secure by letting only authenticated users to access it. Enabling this property will ensure that your users will first be redirected to an authentication screen (DronaHQ or SSO whichever is set up in the account) and only once the user is authenticated would they be allowed to access the app."),(0,i.kt)("admonition",{title:"Auth session",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Once the users authenticate themselves, the session will persist for 18 hours and the user will be able to access the app for the whole session. Once the session expires, the user will have to re-authenticate themselves.")),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/auth-public-url.png",alt:"Public URL with auth",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Secure public URL with authentication"))),(0,i.kt)("h2",{id:"open-public-embeds"},"Open public embeds"),(0,i.kt)("p",null,"DronaHQ provides different ways in which public apps can be embedded in your own portals, applications or websites. These apps will work openly without any authentication and use-cases like different forms on the website, info or delivery tracking related apps on your website etc. are ideal use-cases."),(0,i.kt)("p",null,"You have the following options to embed:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"iframe "),(0,i.kt)("li",{parentName:"ul"},"JS script "),(0,i.kt)("li",{parentName:"ul"},"Embed code")),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/iframe-embed.png",alt:"iframe embed",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Embed with iframes"))),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/js-embed.png",alt:"JS embed",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Embed with JS script"))),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/code-embed.png",alt:"Code embed",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Embed with Code"))),(0,i.kt)("h2",{id:"secure-embeds"},"Secure embeds"),(0,i.kt)("p",null,"Due to DronaHQ's efficient app-building capabilities, it is frequently preferred over traditional code writing for faster development. As a result, embedding DronaHQ apps into existing portals, tools, and applications has become a common practice."),(0,i.kt)("p",null,"The following sections elucidate how to ensure a seamless and secure experience for end users without necessitating a double-login process (i.e., logging into the parent portal and then separately into the embedded DronaHQ app)."),(0,i.kt)("admonition",{title:"Disable public access",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"You can securely embed the DronaHQ app without toggling on the Public Access property for obvious reasons. Since this is a secure embed, to maintain the secure nature of the app, the public access can be switched OFF.")),(0,i.kt)("p",null,"When integrating DronaHQ into your web application and ensuring both utilize the same Identity Provider (IDP), users may encounter a double Single Sign-On (SSO) process. Initially, they would SSO into the web application and then again into the embedded DronaHQ app. However, to enhance user experience and avoid this redundancy, you have the option to configure DronaHQ to automatically sign the user in with SSO. In this setup, instead of displaying a separate login screen, DronaHQ will seamlessly authenticate the user if they already have an existing, authenticated session on the IDP. This streamlines the process and eliminates the need for repeated logins, providing a more efficient and user-friendly experience."),(0,i.kt)("p",null,"It is a 2 step process:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Generate an SSO token")," - Make a cURL request into DronaHQ to generate a unique access token for each user"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Embed the app web component")," - Embed the web-component in any of your login walled portal")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/secure-embed"},"Detailed step by step guide to using secure embed")),(0,i.kt)("admonition",{title:"Message passing in secure embeds",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"You can also the realtime message passing framework even with secure embeds. You just need to be sure of using the iframe DOM reference that gets initialized for the web component that's used.")),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/step-1-token.png",alt:"Token generation",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Step 1 - Generate SSO token"))),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/step-2-embed.png",alt:"Code embed",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Step 2 - Embed the App web component"))),(0,i.kt)("h2",{id:"pass-message-from-parent-to-embed-app"},"Pass message from parent to embed app"),(0,i.kt)("p",null,"DronaHQ provides 2 ways in which the parent app can pass data to the embedded app."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#auto-relay-query-params-to-public-embeds"},"Auto-relay query params")," - Uses the query params and app will auto-reload"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/public-and-embed-sharing-options/#real-time-message-passing-framework"},"Real-time message passing framework")," - Uses the postMessage way to pass data")),(0,i.kt)("h3",{id:"auto-relay-query-params-to-public-embeds"},"Auto-relay query params to public embeds"),(0,i.kt)("p",null,"Though you can set up query params and pass data to the iframes using it, there might be dynamic usecases where your iframe embeds wont have static query params or values. In which case you might want to read the query params from the parent app or website and auto-relay them to the embedded iframe. You can access the website tracking code by navigating to ",(0,i.kt)("inlineCode",{parentName:"p"},"Sharing -> Embed configurations -> Set up tracking")," and copy paste this tracking code in your parent website footer. "),(0,i.kt)("admonition",{title:"Query params",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Every time this code runs, the iframe will reload. In case you want realtime data passing between the parent and embed app, you can use the real time message passing framework. ")),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/auto-relay-params.png",alt:"Auto relay params",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Auto-relay parent query params"))),(0,i.kt)("h3",{id:"real-time-message-passing-framework"},"Real-time message passing framework"),(0,i.kt)("p",null,"DronaHQ also supports usecases where the parent web apps can pass data to the embed app realtime without refreshing or reloading the embedded app. DronaHQ internally leverages on the PostMessage feature available on the browsers to relay these messages realtime from the parent to the embed app. This framework has been effectively used even in POS machines where every new product scanned is passed as a message to the embedded app built on DronaHQ."),(0,i.kt)("p",null,"Its essentially a 3 step process to integrate this in your app:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Adding JS script in your parent app")," - Add this script to the header of your parent app."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Initialize plugin")," - In order to initialize the Library, you need to pass the iframe DOM reference to DronaHQ.init method after Iframe is loaded."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Send data")," - DronaHQ.sendMessage function is used to send the Data from parent to the embedded micro app. Data is in JSON format in which each key of that object represent data variable in the embedded micro app and the values of those keys will be set to respective data variables.")),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/add-script.png",alt:"add script",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Step 1: Add script to parent page"))),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/initialize-plugin.png",alt:"Initialize plugin",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Step 2: Initialize plugin with iframe DOM reference"))),(0,i.kt)("figure",null,(0,i.kt)(n.Z,{src:"/img/public-embed/send-data.png",alt:"Send data",width:"100%",mdxType:"Thumbnail"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Step 3: Send data in JSON"))))}b.isMDXComponent=!0}}]);