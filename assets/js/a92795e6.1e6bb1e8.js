"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[17568],{46928:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>s,metadata:()=>p,toc:()=>c});n(67294);var o=n(3905),i=n(86291);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const s={sidebar_position:3},u="Configuring SSO for Google OIDC",p={unversionedId:"sso/configuring-sso-for-google-oidc",id:"sso/configuring-sso-for-google-oidc",title:"Configuring SSO for Google OIDC",description:"Available only on Self-Hosted Version",source:"@site/docs/sso/configuring-sso-for-google-oidc.md",sourceDirName:"sso",slug:"/sso/configuring-sso-for-google-oidc",permalink:"/sso/configuring-sso-for-google-oidc",draft:!1,tags:[],version:"current",lastUpdatedAt:1723135240,formattedLastUpdatedAt:"Aug 8, 2024",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docSidebar",previous:{title:"Configuring SSO with OIDC",permalink:"/sso/configuring-sso-with-oidc"},next:{title:"Configuring SSO with custom JWT",permalink:"/sso/configure-sso-with-custom-jwt"}},d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Create a Google OAuth Client ID",id:"1-create-a-google-oauth-client-id",level:2},{value:"2. Configure Google SSO in DronaHQ",id:"2-configure-google-sso-in-dronahq",level:2},{value:"Steps",id:"steps",level:2}],g={toc:c},m="wrapper";function f(e){var{components:t}=e,n=l(e,["components"]);return(0,o.kt)(m,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){a(e,t,n[t])}))}return e}({},g,n),{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"configuring-sso-for-google-oidc"},"Configuring SSO for Google OIDC"),(0,o.kt)("admonition",{title:"PLEASE NOTE",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Available only on Self-Hosted Version")),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"To set up OIDC SSO in DronaHQ, you will need:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Admin permission on DronaHQ Self-Hosted portal."),(0,o.kt)("li",{parentName:"ol"},"Permissions to create a Google OAuth Client.")),(0,o.kt)("h2",{id:"1-create-a-google-oauth-client-id"},"1. Create a Google OAuth Client ID"),(0,o.kt)("p",null,"Go to your ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid"},"Google Developer Console")," and create an OAuth client ID."),(0,o.kt)("p",null,"If you are asked to configure an ",(0,o.kt)("inlineCode",{parentName:"p"},"OAuth consent screen"),", select ",(0,o.kt)("inlineCode",{parentName:"p"},"Internal")," and add scope. For SSO you can add these three basic scopes - ",(0,o.kt)("inlineCode",{parentName:"p"},"email, profile, openid"),"."),(0,o.kt)("p",null,"Configure the OAuth Client ID as a ",(0,o.kt)("inlineCode",{parentName:"p"},"Web application")," and enter ",(0,o.kt)("inlineCode",{parentName:"p"},"Redirect URL"),"(for eg- ",(0,o.kt)("a",{parentName:"p",href:"https://your-self-hosted-domain.com/sso/callback/googleoauth"},"https://your-self-hosted-domain.com/sso/callback/googleoauth"),") under ",(0,o.kt)("inlineCode",{parentName:"p"},"Authorized redirect URIs -> + URIs"),". DronaHQ ",(0,o.kt)("inlineCode",{parentName:"p"},"Redirect URL")," can be located at  ",(0,o.kt)("inlineCode",{parentName:"p"},"Manage Users -> SSO CONFIGURATION -> + Add SSO -> Google - OAuth"),"."),(0,o.kt)("p",null,"When you ",(0,o.kt)("inlineCode",{parentName:"p"},"create")," OAuth Client, you will get ",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret")," that you can keep a note of that will be needed later to configure it in DronaHQ. "),(0,o.kt)("h2",{id:"2-configure-google-sso-in-dronahq"},"2. Configure Google SSO in DronaHQ"),(0,o.kt)("p",null,"For setting up Google SSO in DronaHQ, Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"Manage Users -> SSO CONFIGURATION -> + Add SSO -> Google - OAuth ")),(0,o.kt)("p",null,"Enter form with below fields -"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Field"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Name"),(0,o.kt)("td",{parentName:"tr",align:null},"Provide Friendly Name of this SSO configuration")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Restricted Domain"),(0,o.kt)("td",{parentName:"tr",align:null},"Enter domain name for which you want your users to login with for this SSO Configuration. You can add multiple domain names as well. eg - ",(0,o.kt)("inlineCode",{parentName:"td"},"domain1.com , domain2.com"),". DronaHQ will automatically redirect to Google SSO url when we encounter any user\u2019s sign in request with an email id belonging to the given restricted domain.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null})),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Client ID"),(0,o.kt)("td",{parentName:"tr",align:null},"Client ID from your OAuth app created on Google Developers Console.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Client Secret"),(0,o.kt)("td",{parentName:"tr",align:null},"Client Secret from your OAuth app created on Google Developers Console.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Scope"),(0,o.kt)("td",{parentName:"tr",align:null},"OAuth scopes values seperated with a comma or space that you want DronaHQ to access data. For eg - ",(0,o.kt)("inlineCode",{parentName:"td"},"email, profile, openid"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Enable JIT user provisioning"),(0,o.kt)("td",{parentName:"tr",align:null},"Just in time (JIT) user provisioning enables DronaHQ to provision user accounts when users sign in via SSO for the ",(0,o.kt)("inlineCode",{parentName:"td"},"first time"),". This means you won't have to manually invite each user to DronaHQ first.")))),(0,o.kt)("admonition",{title:"TIP",type:"tip"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Enable JIT user provisioning toggle to automatically add new users provisioned by SSO into DronaHQ"))),(0,o.kt)("h2",{id:"steps"},"Steps"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create Google OAuth Client ID."),(0,o.kt)("li",{parentName:"ol"},"Fill above form."),(0,o.kt)("li",{parentName:"ol"},"Once, above form is filled, click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Save to draft")," option to save your SSO Configuration."),(0,o.kt)("li",{parentName:"ol"},"You will be able to view your recently saved SSO configuration in the list. You can click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Test SSO")," button and it will open SSO Login url in a popup. Once you login successfully and if everything is set up correctly, then finally you will see a success message at the bottom."),(0,o.kt)("li",{parentName:"ol"},"Now, that testing is successful, you can click on the ",(0,o.kt)("inlineCode",{parentName:"li"},"more option")," for above SSO configuration and click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Activate")," to make it live.")),(0,o.kt)("figure",null,(0,o.kt)(i.Z,{src:"/img/sso/sso-google-activate.png",alt:"Activate SSO",mdxType:"Thumbnail"}),(0,o.kt)("figcaption",{align:"center"},(0,o.kt)("i",null,"Activate SSO"))),(0,o.kt)("p",null,"Once live, you will see ",(0,o.kt)("inlineCode",{parentName:"p"},"Sign in with Google")," option in both the ",(0,o.kt)("inlineCode",{parentName:"p"},"End User Portal")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Creator Portal"),"."),(0,o.kt)("figure",null,(0,o.kt)(i.Z,{src:"/img/sso/sso-google-sign-in.png",alt:"Google Sign In",mdxType:"Thumbnail"}),(0,o.kt)("figcaption",{align:"center"},(0,o.kt)("i",null,"Google Sign In"))),(0,o.kt)("p",null,"With Google Single Sign-On (SSO), users can login into DronaHQ using their Google ID. It simplifies user provisioning and management."))}f.isMDXComponent=!0}}]);