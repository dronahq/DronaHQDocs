"use strict";(self.webpackChunkdronahq_docs=self.webpackChunkdronahq_docs||[]).push([[3366],{37951:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>k,frontMatter:()=>s,metadata:()=>d,toc:()=>c});a(67294);var n=a(3905),i=a(86291);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const s={sidebar_position:1,title:"Supabase Database"},u=void 0,d={unversionedId:"reference/connectors/supabase",id:"reference/connectors/supabase",title:"Supabase Database",description:"Supabase is an open-source Firebase alternative that adds real-time and RESTful APIs to the PostgreSQL database without",source:"@site/docs/reference/connectors/supabase.md",sourceDirName:"reference/connectors",slug:"/reference/connectors/supabase",permalink:"/reference/connectors/supabase",draft:!1,tags:[],version:"current",lastUpdatedAt:1726126830,formattedLastUpdatedAt:"Sep 12, 2024",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Supabase Database"},sidebar:"docSidebar",previous:{title:"Stripe",permalink:"/reference/connectors/stripe"},next:{title:"SurrealDB",permalink:"/reference/connectors/surrealdb"}},p={},c=[{value:"Getting Started with Supabase Hosting",id:"getting-started-with-supabase-hosting",level:2},{value:"Database Connectivity and Table Management",id:"database-connectivity-and-table-management",level:3},{value:"Obtaining the Connection String",id:"obtaining-the-connection-string",level:4},{value:"Table Management Using the Table Editor",id:"table-management-using-the-table-editor",level:4},{value:"Configuring Connector in DronaHQ",id:"configuring-connector-in-dronahq",level:2},{value:"Using CA Certification",id:"using-ca-certification",level:3},{value:"Using Supabase Connector",id:"using-supabase-connector",level:2},{value:"Read/Display Data Query",id:"readdisplay-data-query",level:3},{value:"Query used:",id:"query-used",level:4},{value:"Query explanation:",id:"query-explanation",level:4},{value:"Delete Data Query",id:"delete-data-query",level:3},{value:"Query used:",id:"query-used-1",level:4},{value:"Query explanation:",id:"query-explanation-1",level:4},{value:"Update Data Query",id:"update-data-query",level:3},{value:"Query used",id:"query-used-2",level:4},{value:"Query explanation",id:"query-explanation-2",level:4},{value:"Insert Data Query",id:"insert-data-query",level:3},{value:"Query used:",id:"query-used-3",level:4},{value:"Query explanation:",id:"query-explanation-3",level:4}],h={toc:c},b="wrapper";function k(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)(b,r(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){o(e,t,a[t])}))}return e}({},h,a),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Supabase is an open-source Firebase alternative that adds real-time and RESTful APIs to the PostgreSQL database without\na single line of code."),(0,n.kt)("p",null,"DronaHQ enables you to connect and build over your Supabase databases. Let us understand how to configure your Supabase\nConnection. As Supabase uses a Postgres Database we will make use of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Postgres Connector")," to connect to the Supabase\nDatabase."),(0,n.kt)("h2",{id:"getting-started-with-supabase-hosting"},"Getting Started with Supabase Hosting"),(0,n.kt)("p",null,"To begin your journey with Supabase hosting, visit ",(0,n.kt)("a",{parentName:"p",href:"https://app.supabase.io/"},"app.supabase.io")," and sign up using your\nGitHub ID if you haven't already."),(0,n.kt)("p",null,"Once logged in, you'll notice that an organization has been automatically created for you using your GitHub ID."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Click on ",(0,n.kt)("inlineCode",{parentName:"li"},"New Project")," and either select an existing organization or create a new one. For this example, we'll use\nthe default organization.")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enter a Project Name and a Database Password, choose the desired Region, and then click on Create New Project.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Once you click on Create New Project, Supabase starts provisioning the necessary database and API endpoints."),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-api.jpeg",alt:"Project API keys.",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Project API keys.")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Your new Supabase project is now deployed and comes with its own URL and API. You'll have access to features like\nDatabase for managing tables, Auth for user authentication, and Storage for storing large files.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Supabase ensures security with its API Gateway, requiring an API key for each request. Your Project API keys are generated and ready to use with Supabase client libraries."))),(0,n.kt)("h3",{id:"database-connectivity-and-table-management"},"Database Connectivity and Table Management"),(0,n.kt)("p",null,"In this section, we'll explore how to effectively connect to Supabase databases and manage tables with ease."),(0,n.kt)("h4",{id:"obtaining-the-connection-string"},"Obtaining the Connection String"),(0,n.kt)("p",null,"To establish a connection between your ",(0,n.kt)("inlineCode",{parentName:"p"},"DronaHQ App")," and Supabase, you'll first need to obtain the Connection String. Follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Head to any of your Supabase databases. On the left sidebar, locate and click on the ",(0,n.kt)("inlineCode",{parentName:"p"},"Database")," option.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Within the Database section, you'll find the ",(0,n.kt)("inlineCode",{parentName:"p"},"Configuration and Connection info"),". Click on it to access vital details required for establishing the connection."),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-config.jpeg",alt:"Configuration Info",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Configuration Info")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Here, you can copy either the connection string or specific parameters needed for your application's configuration."))),(0,n.kt)("h4",{id:"table-management-using-the-table-editor"},"Table Management Using the Table Editor"),(0,n.kt)("p",null,"Supabase provides a convenient Table Editor tool for seamless table management. Follow these steps to utilize it effectively:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the left sidebar, navigate to the ",(0,n.kt)("inlineCode",{parentName:"p"},"Home")," section and locate the ",(0,n.kt)("inlineCode",{parentName:"p"},"Table Editor"),"."),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-table.jpeg",alt:"Table Editor",mdxType:"Thumbnail"}),(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"Table Editor")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click on ",(0,n.kt)("inlineCode",{parentName:"p"},"Create a New Table")," to initiate the table creation process.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enter the table name, along with an optional description. Add columns as needed, and consider enabling Row Level Security (RLS) for enhanced access control.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Once you've configured the table to your requirements, simply click ",(0,n.kt)("inlineCode",{parentName:"p"},"Save")," to finalize the setup."))),(0,n.kt)("h2",{id:"configuring-connector-in-dronahq"},"Configuring Connector in DronaHQ"),(0,n.kt)("p",null,"Configure your database category by providing below details. Choose between ",(0,n.kt)("inlineCode",{parentName:"p"},"User and Password")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"AWS IAM"),"\nAuthentication. Validate the connection with ",(0,n.kt)("inlineCode",{parentName:"p"},"Test connection")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"Save")," settings for secure and efficient database\nsetup."),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"DronaHQ can Auto fill crucial connection values like host, name, password, and more from the connector's\n",(0,n.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING"},"connection string")," or from a AWS IAM\ncredentials using ",(0,n.kt)("a",{parentName:"p",href:"/datasource-concepts/aws-import"},"AWS Import"),". ")),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-connector.jpeg",alt:"Connector",mdxType:"Thumbnail"})),(0,n.kt)("h3",{id:"using-ca-certification"},"Using CA Certification"),(0,n.kt)("p",null,"To enhance security and protect against potential threats like snooping and man-in-the-middle attacks, Supabase offers the option to use CA Certificate authentication in addition to basic authentication using a Username and Password."),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-ca.jpeg",alt:"Connector",mdxType:"Thumbnail"})),(0,n.kt)("p",null,'When configuring your Connector, simply toggle the switch to enable the "Use a self-signed certificate" option. You can then paste the required Certificate Authority content for self-signing.'),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-ssl.jpeg",alt:"Connector",mdxType:"Thumbnail"})),(0,n.kt)("p",null,"By implementing this additional security measure, you'll strengthen the connection to Supabase and safeguard the data being accessed. Feel free to utilize your queries to retrieve data and develop applications according to your specific requirements."),(0,n.kt)("h2",{id:"using-supabase-connector"},"Using Supabase Connector"),(0,n.kt)("h3",{id:"readdisplay-data-query"},"Read/Display Data Query"),(0,n.kt)("p",null,"After configuring the connector, add a query to fetch data from the Supabase database."),(0,n.kt)("h4",{id:"query-used"},"Query used:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"select ` from industry_role\n")),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-query1.png",alt:"Connector",mdxType:"Thumbnail"})),(0,n.kt)("h4",{id:"query-explanation"},"Query explanation:"),(0,n.kt)("p",null,"In the above query, we are selecting all the details from our industry_role schema which has a table of details."),(0,n.kt)("p",null,"Save the query after testing with a configuration test successful message."),(0,n.kt)("p",null,"To display the data, drag and drop the ",(0,n.kt)("inlineCode",{parentName:"p"},"Table grid")," Control from the sidebar to the created app."),(0,n.kt)("p",null,"Bind data by selecting the PostgreSQL connector from\n",(0,n.kt)("inlineCode",{parentName:"p"}," Data Bind Options -> Quick Select -> Data Queries")," . Choose the relevant query for displaying data and bind the"),(0,n.kt)("h3",{id:"delete-data-query"},"Delete Data Query"),(0,n.kt)("p",null,"Now to delete data we will create another query for our PostgreSQL. This query will have a logic to delete all the details related to the selected data from the table."),(0,n.kt)("h4",{id:"query-used-1"},"Query used:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"  DELETE from industry_role WHERE id = {{id}};\n")),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-query2.png",alt:"Connector",mdxType:"Thumbnail"})),(0,n.kt)("h4",{id:"query-explanation-1"},"Query explanation:"),(0,n.kt)("p",null,"In the above query, we are operating ",(0,n.kt)("inlineCode",{parentName:"p"},"delete")," on the ",(0,n.kt)("inlineCode",{parentName:"p"},"industry_role")," to delete the details of the id selected by the user, which is a primary key. Here the id is made dynamic by creating variable inside double curly braces."),(0,n.kt)("p",null,"Save the query after testing with a configuration test successful message."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Next is to put the query into the action flow of the table grid. Go to the ",(0,n.kt)("inlineCode",{parentName:"p"},"Actions")," of the table grid and select ",(0,n.kt)("inlineCode",{parentName:"p"},"delete_click"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Action flow will open, add tasks. The first task of ",(0,n.kt)("inlineCode",{parentName:"p"},"Confirm")," will give a pop-up to the user to confirm their action of delete.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Next, add the task of ",(0,n.kt)("inlineCode",{parentName:"p"},"Connector - Library"),", select the query of delete data along with binding the ",(0,n.kt)("inlineCode",{parentName:"p"},"id connector key"),". This will enable us to get the selected row id from the table grid row using ",(0,n.kt)("inlineCode",{parentName:"p"},"tablegrid.result.rows.id"),", which can be found under the ",(0,n.kt)("inlineCode",{parentName:"p"},"Use Keywords")," option."),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-action1.png",alt:"Connector",mdxType:"Thumbnail"})))),(0,n.kt)("h3",{id:"update-data-query"},"Update Data Query"),(0,n.kt)("p",null,"To perform updating of existing data, we will create a query and this will first select the details based on id (primary key) and then change the existing data."),(0,n.kt)("h4",{id:"query-used-2"},"Query used"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"UPDATE industry_role\n\nSET position = '{{pos}}', location = '{{loc}}' where id = {{id}}\n")),(0,n.kt)("h4",{id:"query-explanation-2"},"Query explanation"),(0,n.kt)("p",null,"In the above query, we are selecting details on the basis of the selected id side and changing the values of position and location from details updated in ",(0,n.kt)("inlineCode",{parentName:"p"},"pos")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"loc")," variables respectively, in the ",(0,n.kt)("inlineCode",{parentName:"p"},"industry_role")," schema. Updating that particular row of the selected ",(0,n.kt)("inlineCode",{parentName:"p"},"id"),"."),(0,n.kt)("p",null,"When we fill the dynamic value inside {{}} it acts as a variable in the query which gets saved to their respective column."),(0,n.kt)("p",null,"I have created a ",(0,n.kt)("inlineCode",{parentName:"p"},"Tray")," where text fields will get data from the user and on click of the button, it will update the details of the selected Id."),(0,n.kt)("p",null,"Here binding of data of the selected id from the table grid to the input text is made by going to the ",(0,n.kt)("inlineCode",{parentName:"p"},"Bind")," section and selecting ",(0,n.kt)("inlineCode",{parentName:"p"},"controls"),"."),(0,n.kt)("p",null,"Select the screen from where the data is located, then select the component that is ",(0,n.kt)("inlineCode",{parentName:"p"},"tablegrid"),", from where we will bind the data, and then select the field name, of which data is needed."),(0,n.kt)("p",null,"Go to ",(0,n.kt)("inlineCode",{parentName:"p"},"Actions")," of the button and select ",(0,n.kt)("inlineCode",{parentName:"p"},"button_click")," action. Add a task of ",(0,n.kt)("inlineCode",{parentName:"p"},"Connector > Library")," with selecting the query created to update the data."),(0,n.kt)("p",null,"Bind the key connectors properly."),(0,n.kt)("p",null,"Make sure to navigate to ",(0,n.kt)("inlineCode",{parentName:"p"},"Tray")," by adding action to table grid on click of edit button by ",(0,n.kt)("inlineCode",{parentName:"p"},"Actions > update_click")," and add task of ",(0,n.kt)("inlineCode",{parentName:"p"},"Navigate.")),(0,n.kt)("h3",{id:"insert-data-query"},"Insert Data Query"),(0,n.kt)("p",null,"Now we will insert data from the user into the database. For this, we will write a query that will take values from the user and save it to our database."),(0,n.kt)("h4",{id:"query-used-3"},"Query used:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"INSERT into industry_role (position, location)\nVALUES ('{{pos}}', '{{loc}}')\n")),(0,n.kt)("h4",{id:"query-explanation-3"},"Query explanation:"),(0,n.kt)("p",null,"In the above query, we are taking values of ",(0,n.kt)("inlineCode",{parentName:"p"},"position")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"location")," in pos and loc variables respectively, and ",(0,n.kt)("inlineCode",{parentName:"p"},"inserting")," them into ",(0,n.kt)("inlineCode",{parentName:"p"},"industry_role"),". The insertion sequence of the values will be the same as the sequence of the column name provided along with the table name in ()"),(0,n.kt)("p",null,"Save the query after testing with a configuration test successful message."),(0,n.kt)("p",null,"To insert the values, we have to get it first from the user as input. For this I have created another ",(0,n.kt)("inlineCode",{parentName:"p"},"tray")," with input texts and a button of insert."),(0,n.kt)("p",null,"Go to ",(0,n.kt)("inlineCode",{parentName:"p"},"Actions")," of the button and select ",(0,n.kt)("inlineCode",{parentName:"p"},"button_click")," action. Add a task of ",(0,n.kt)("inlineCode",{parentName:"p"},"Connector > Library")," with selecting the query created to insert the data."),(0,n.kt)("p",null,"Bind the key connectors properly."),(0,n.kt)("p",null,"Make sure to navigate to ",(0,n.kt)("inlineCode",{parentName:"p"},"Tray")," by adding action to table grid on click of ",(0,n.kt)("inlineCode",{parentName:"p"},"Add button")),(0,n.kt)("figure",null,(0,n.kt)(i.Z,{src:"/img/reference/connectors/supabase/supabase-action2.png",alt:"Connector",mdxType:"Thumbnail"})))}k.isMDXComponent=!0}}]);